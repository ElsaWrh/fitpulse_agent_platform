# FitPulse æ™ºèƒ½å¥åº·åŠ©æ‰‹-é¡¹ç›®è¯´æ˜æ–‡æ¡£
## ä¸€ã€é¡¹ç›®ç®€ä»‹
FitPulse æ˜¯ä¸€ä¸ªå¯éƒ¨ç½²çš„å…¨æ ˆæ™ºèƒ½å¥åº·åŠ©æ‰‹é¡¹ç›®ï¼Œé›†æˆäº†å‰ç«¯ç®¡ç†ç«¯ã€åç«¯æœåŠ¡ã€æ•°æ®åº“åˆå§‹åŒ–ä¸å®¹å™¨åŒ–éƒ¨ç½²èƒ½åŠ›ï¼Œæ”¯æŒé€šè¿‡ LLM API å®ç°æ™ºèƒ½é—®ç­”/å¥åº·å»ºè®®ç­‰èƒ½åŠ›ã€‚é¡¹ç›®é‡‡ç”¨ Docker + Docker Compose è¿›è¡Œä¸€é”®éƒ¨ç½²ï¼Œè¦†ç›–ä»æ•°æ®åº“å»ºæ¨¡ã€åç«¯æ¥å£åˆ°å‰ç«¯ç•Œé¢ä¸åå‘ä»£ç†çš„å®Œæ•´å·¥ç¨‹é“¾è·¯ã€‚

> æœ¬ä»“åº“ç”¨äºè¯¾ç¨‹ä¸ªäººæœŸæœ«ä½œä¸šæäº¤ï¼šæ™ºèƒ½ä½“åº”ç”¨å¼€å‘ï¼ˆå…¨æ ˆ + æ•°æ®åº“ + Docker å®¹å™¨åŒ– + LLM API è°ƒç”¨ï¼‰ã€‚

---

## äºŒã€é¡¹ç›®åŠŸèƒ½ä»‹ç»
æœ¬é¡¹ç›®é¢å‘å¥åº·ç®¡ç†åœºæ™¯ï¼Œæä¾›ç”¨æˆ·è®¤è¯ã€è§’è‰²æƒé™ã€å¥åº·æ¡£æ¡ˆã€ä½“é‡/è®­ç»ƒ/ç¡çœ /é¥®é£Ÿç­‰åŸºç¡€æ•°æ®è®°å½•ï¼Œä»¥åŠåŸºäºæ™ºèƒ½ä½“çš„å¯¹è¯ä¸å¥åº·å»ºè®®ã€‚åç«¯æš´éœ² RESTful APIï¼Œå‰ç«¯æä¾›è¡¨å•å½•å…¥ä¸æ•°æ®åˆ—è¡¨ã€å›¾è¡¨å±•ç¤ºï¼Œæ”¯æŒæŒ‰ç”¨æˆ·ç»´åº¦çš„å¥åº·ä¿¡æ¯æ±‡æ€»ã€‚æ™ºèƒ½ä½“ä¼šè¯»å–å¥åº·æ¡£æ¡ˆä¸å†å²è®°å½•ï¼Œè¿”å›ç»“åˆç›®æ ‡ï¼ˆå‡è„‚/å¢è‚Œ/ç»´æŒï¼‰ä¸æ…¢ç—…é£é™©çš„å»ºè®®ï¼›ä¼šè¯æ¨¡å—æŒä¹…åŒ–å¯¹è¯å†å²ï¼Œä¾¿äºå†æ¬¡è¿›å…¥æ—¶å»¶ç»­ä¸Šä¸‹æ–‡ã€‚æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬å¯ä¸€é”®å»ºåº“ã€å»ºè¡¨å¹¶å†™å…¥åŸºç¡€æ•°æ®ï¼›å®¹å™¨åŒ–ç¼–æ’è®© MySQLã€åç«¯ã€å‰ç«¯ã€phpMyAdmin å¯åŒæ—¶å¯åŠ¨ï¼Œé™ä½åŒå­¦åœ¨æœ¬åœ°æ­å»ºç¯å¢ƒçš„æˆæœ¬ã€‚


### åŠŸèƒ½æ¦‚è§ˆï¼š
- **ä¸€é”®éƒ¨ç½²ä¸å¯å¤ç°**ï¼š`docker compose up -d --build` å³å¯å®Œæˆå…¨æ ˆå¯åŠ¨
- **å…¨æ ˆå®¹å™¨åŒ–ç¼–æ’**ï¼šMySQL / PHPMyAdmin / Spring Boot åç«¯ / Vue å‰ç«¯ç»Ÿä¸€ç¼–æ’ä¸è”åŠ¨å¯åŠ¨
- **æ•°æ®åº“è‡ªåŠ¨åˆå§‹åŒ–**ï¼šé¦–æ¬¡å¯åŠ¨è‡ªåŠ¨æ‰§è¡Œ `sql/01_schema.sql` ä¸ `sql/02_init_data.sql`
- **å‰åç«¯è”è°ƒä¸åå‘ä»£ç†**ï¼šNginx ç»Ÿä¸€å…¥å£ï¼Œ`/api/` ä»£ç†è‡³åç«¯æœåŠ¡
- **åç«¯é…ç½®ç¯å¢ƒå˜é‡åŒ–**ï¼šæ”¯æŒ `dev/prod` profile ä¸ `.env` æ³¨å…¥ï¼ˆç«¯å£ã€DBã€LLM Key ç­‰ï¼‰
- **LLM API æ¥å…¥**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡é…ç½® OpenAI / DashScope Keyï¼ˆæŒ‰é¡¹ç›®å®ç°è°ƒç”¨ï¼‰

---

## ä¸‰ã€åŠŸèƒ½å®ç°çŠ¶æ€

âœ… å·²å®ç°
- Docker Compose ä¸€é”®éƒ¨ç½²ï¼ˆMySQL / phpMyAdmin / Spring Boot åç«¯ / Vue å‰ç«¯-Nginxï¼‰
- æ•°æ®åº“åˆå§‹åŒ–ï¼ˆsql/00_init.sqlã€sql/01_schema.sqlã€sql/02_init_data.sqlï¼‰
- ç”¨æˆ·æ³¨å†Œ / ç™»å½•é‰´æƒï¼ˆåŸºäº JWTï¼Œåç«¯å‰ç¼€ `/api`ï¼Œè®¤è¯æ¥å£ä½äº `/api/v1/auth/*`ï¼‰
- RBAC è§’è‰²æƒé™æ¨¡å‹ï¼ˆç®¡ç†å‘˜ / æ™®é€šç”¨æˆ·ã€èœå• + æƒé™ç‚¹ï¼ŒæŒ‰ 02_init_data.sql åˆå§‹åŒ–ï¼‰
- å¥åº·æ¡£æ¡ˆä¸åŸºç¡€è®°å½•ç®¡ç†ï¼ˆä½“é‡ / è®­ç»ƒ / ç¡çœ  / é¥®é£Ÿç­‰ï¼Œå‰ç«¯æœ‰å¯¹åº”é¡µé¢ï¼Œåç«¯æœ‰å¯¹åº”æ¥å£ï¼‰
- æ™ºèƒ½å¯¹è¯ï¼šåç«¯è°ƒç”¨ LLM APIï¼ˆOpenAI / DashScope ç­‰ï¼‰è¿”å›å¥åº·å»ºè®®
- ä¼šè¯å†å²æŒä¹…åŒ–ï¼šä¼šè¯ & æ¶ˆæ¯è®°å½•è½åº“ï¼Œå¯å†æ¬¡è¿›å…¥æŸ¥çœ‹å†å²


## ä¸‰ã€é¡¹ç›®å®ç°æˆªå›¾
### 1ï¼‰å‰ç«¯é¦–é¡µ / ç®¡ç†ç«¯
**ç™»å½•ç•Œé¢**
![ç™»å½•ç•Œé¢](assets/login.png)
**å‰ç«¯é¦–é¡µ**
![å‰ç«¯é¦–é¡µ](assets/frontend1.png)
**å‰ç«¯é¦–é¡µ**
![å‰ç«¯é¦–é¡µ](assets/frontend2.png)
**ç®¡ç†ç«¯**
![ç®¡ç†ç«¯](assets/frontend3.png)

### 2ï¼‰æ™ºèƒ½å¯¹è¯ / LLM èƒ½åŠ›å±•ç¤º
**æ™ºèƒ½ä½“åˆ›å»º**
![æ™ºèƒ½ä½“åˆ›å»º](assets/agent_create.png)
![æ™ºèƒ½ä½“åˆ›å»º](assets/agent_create1.png)
![æ™ºèƒ½ä½“åˆ›å»º](assets/agent_create2.png)
**æ™ºèƒ½å¯¹è¯ LLM è°ƒç”¨**
![æ™ºèƒ½å¯¹è¯ LLM è°ƒç”¨](assets/chat1.png)
![æ™ºèƒ½å¯¹è¯ LLM è°ƒç”¨](assets/chat2.png)
![æ™ºèƒ½å¯¹è¯ LLM è°ƒç”¨](assets/chat3.png)

**LLMçš„apiè®¾ç½®**
![LLM apiè®¾ç½®](assets/api1.png)


### 3ï¼‰å¥åº·æ¡£æ¡ˆ / æ•°æ®è®°å½•ï¼ˆä½“é‡/è®­ç»ƒ/ç¡çœ /é¥®é£Ÿï¼‰
**å¥åº·æ¡£æ¡ˆä¸è®°å½•**
![å¥åº·æ¡£æ¡ˆä¸è®°å½•](assets/profile-logs.png)

### 4ï¼‰æ•°æ®åº“è¡¨ç»“æ„ï¼ˆéƒ¨åˆ†ï¼‰
![æ•°æ®åº“è¡¨ç»“æ„](assets/db-schema.png)

### 5ï¼‰æ•°æ®è½åº“ç¤ºä¾‹ï¼ˆä¼šè¯/æ¶ˆæ¯/å¥åº·æ¡£æ¡ˆï¼‰
![æ•°æ®è½åº“](assets/db-data.png)


### 6ï¼‰å®¹å™¨è¿è¡ŒçŠ¶æ€ï¼ˆdocker compose psï¼‰
![å®¹å™¨çŠ¶æ€](assets/compose-ps.png)


---



## å››ã€æŠ€æœ¯æ ˆä¸æ¶æ„

**å‰ç«¯**
- Vue 3 + Vite
- Nginx é™æ€æ‰˜ç®¡ + API åå‘ä»£ç†ï¼ˆ`/api/`ï¼‰

**åç«¯**
- Java / Spring Bootï¼ˆæ”¯æŒ `dev/prod` profileï¼‰
- MyBatis-Plus
- JWTï¼ˆç”¨äºé‰´æƒ/ä¼šè¯ï¼ŒæŒ‰é¡¹ç›®å®ç°ï¼‰
- LLM APIï¼šOpenAI / DashScopeï¼ˆæŒ‰ç¯å¢ƒå˜é‡é…ç½®ï¼‰

**æ•°æ®åº“ä¸è¿ç»´**
- MySQL 8.0ï¼ˆUTF8MB4ï¼Œæ•°æ®æŒä¹…åŒ– volumeï¼‰
- PHPMyAdminï¼ˆæ•°æ®åº“ç®¡ç†ç•Œé¢ï¼‰
- Docker å¤šé˜¶æ®µæ„å»ºï¼ˆåç«¯/å‰ç«¯ï¼‰
- Docker Compose æœåŠ¡ç¼–æ’ä¸å¥åº·æ£€æŸ¥

![ç³»ç»ŸæŠ€æœ¯æ¶æ„å›¾](assets/architecture.png)
---

## äº”ã€é¡¹ç›®ç›®å½•ç»“æ„
```bash
HEALTH_AGENT_PLATFORM/
â”œâ”€â”€ backend/ # Spring Boot åç«¯ä»£ç 
â”‚ â”œâ”€â”€ Dockerfile
â”‚ â””â”€â”€ src/main/resources/
â”‚ â”œâ”€â”€ application.yml
â”‚ â”œâ”€â”€ application-dev.yml
â”‚ â””â”€â”€ application-prod.yml
â”œâ”€â”€ frontend/ # Vue3 + Vite å‰ç«¯ä»£ç ï¼ˆNginx éƒ¨ç½²ï¼‰
â”‚ â”œâ”€â”€ Dockerfile
â”‚ â”œâ”€â”€ nginx.conf
â”‚ â””â”€â”€ ...
â”œâ”€â”€ sql/ # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ˆé¦–æ¬¡å¯åŠ¨è‡ªåŠ¨æ‰§è¡Œï¼‰
â”‚ â”œâ”€â”€ 01_schema.sql
â”‚ â””â”€â”€ 02_init_data.sql
â”œâ”€â”€ deploy/ # éƒ¨ç½²ä¸­å¿ƒï¼šè„šæœ¬ã€é…ç½®æ¨¡æ¿ã€è¯¦ç»†éƒ¨ç½²è¯´æ˜
â”‚ â”œâ”€â”€ deploy.sh
â”‚ â”œâ”€â”€ deploy.ps1
â”‚ â”œâ”€â”€ docker-compose.yml # ï¼ˆå†å²/å¤‡ä»½ï¼šæ ¹ç›®å½• compose ä¸ºä¸»å…¥å£ï¼‰
â”‚ â”œâ”€â”€ .env.example
â”‚ â””â”€â”€ README.md
â”œâ”€â”€ docs/ # è®¾è®¡ä¸æ–‡æ¡£ 
â”œâ”€â”€ docker-compose.yml # âœ… æ ¹ç›®å½•æœåŠ¡ç¼–æ’ï¼ˆä¸»å…¥å£ï¼‰
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md # âœ… é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

---

## å…­ã€ç¯å¢ƒè¦æ±‚

- Docker Desktopï¼ˆWindows/macOSï¼‰æˆ– Docker Engineï¼ˆLinuxï¼‰
- Docker Compose v2ï¼ˆé€šå¸¸éš Docker è‡ªå¸¦ï¼‰
- ç«¯å£ï¼ˆé»˜è®¤ï¼Œå¯é€šè¿‡ `.env` ä¿®æ”¹ï¼‰ï¼š
  - å‰ç«¯ï¼š`80`
  - åç«¯ï¼š`8080`
  - PHPMyAdminï¼š`8081`
  - MySQLï¼š`3307`ï¼ˆæ˜ å°„åˆ°å®¹å™¨ 3306ï¼Œé¿å…æœ¬æœºå†²çªï¼‰

---

## ä¸ƒã€å¿«é€Ÿå¼€å§‹ï¼ˆDocker Compose ä¸€é”®éƒ¨ç½²ï¼‰

### 7.1 é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¿…é¡»ï¼‰

æœ¬é¡¹ç›®ä½¿ç”¨æ ¹ç›®å½• `.env` ä½œä¸ºç¯å¢ƒå˜é‡å…¥å£ï¼ˆ**ä¸æäº¤åˆ° Git**ï¼‰ã€‚

1ï¼‰åˆ›å»º `.env`ï¼ˆä»æ¨¡æ¿å¤åˆ¶ï¼‰ï¼š

```bash
cp deploy/.env.example .env
```
2ï¼‰ç¼–è¾‘ `.env`ï¼Œè‡³å°‘é…ç½® LLM Keyï¼ˆæŒ‰éœ€é€‰æ‹©ï¼‰ï¼š

OpenAIï¼š`OPENAI_API_KEY=...`

DashScopeï¼š`DASHSCOPE_API_KEY=...`ï¼ˆå¯é€‰ï¼‰

æç¤ºï¼šè‹¥ä¸é…ç½® LLM Keyï¼Œä¸ LLM ç›¸å…³åŠŸèƒ½å¯èƒ½æ— æ³•è°ƒç”¨ï¼ˆå…·ä½“å–å†³äºä½ çš„åç«¯å®ç°ï¼‰ã€‚å»ºè®®è¯„æµ‹/æ¼”ç¤ºå‰é…ç½®å¥½ Keyã€‚

### 7.2 æ„å»ºå¹¶å¯åŠ¨æœåŠ¡

**âš ï¸ é‡è¦æç¤ºï¼šæ•°æ®åº“åˆå§‹åŒ–è¯´æ˜**

MySQL æ•°æ®åº“çš„åˆå§‹åŒ–è„šæœ¬ï¼ˆ`sql/*.sql`ï¼‰**ä»…åœ¨é¦–æ¬¡åˆ›å»ºæ•°æ®å·æ—¶æ‰§è¡Œ**ã€‚

| åœºæ™¯ | å‘½ä»¤ | æ•°æ®åº“è¡Œä¸º |
|------|------|-----------| 
| é¦–æ¬¡éƒ¨ç½² | `docker compose up -d --build` | âœ… è‡ªåŠ¨åˆå§‹åŒ–ï¼ˆåˆ›å»ºè¡¨+åˆå§‹æ•°æ®ï¼‰ |
| æ—¥å¸¸é‡å¯ | `docker compose restart` | ä¿ç•™æ‰€æœ‰æ•°æ® |
| æ›´æ–°ä»£ç  | `docker compose up -d --build` | ä¿ç•™æ‰€æœ‰æ•°æ® |
| **å®Œå…¨é‡ç½®** | `docker compose down -v && docker compose up -d --build` | âœ… é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ |

**æ­£å¸¸å¯åŠ¨ï¼ˆåœ¨ deploy/ ç›®å½•æ‰§è¡Œï¼‰ï¼š**
```bash
cd deploy
docker compose up -d --build
```

**å®Œå…¨é‡ç½®æ•°æ®åº“ï¼ˆæ¨¡æ‹Ÿç©ºç™½ç”µè„‘éƒ¨ç½²ï¼‰ï¼š**
```bash
cd deploy
docker compose down -v
docker compose up -d --build
```

å¯åŠ¨åæŸ¥çœ‹å®¹å™¨çŠ¶æ€ï¼š
```bash
docker compose ps
```
### 7.3 è®¿é—®åœ°å€

**ç­‰å¾…çº¦ 30-60 ç§’è®©æ‰€æœ‰æœåŠ¡å®Œå…¨å¯åŠ¨åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**

| æœåŠ¡ | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|---------|------|
| ğŸŒ **å‰ç«¯åº”ç”¨** | **http://localhost** | ä¸»åº”ç”¨å…¥å£ï¼ˆç™»å½•/æ³¨å†Œ/å¥åº·æ¡£æ¡ˆ/æ™ºèƒ½å¯¹è¯ï¼‰ |
| ğŸ”§ **åç«¯ API** | http://localhost:8080/api | RESTful API æ¥å£ |
| ğŸ—„ï¸ **phpMyAdmin** | http://localhost:8081 | MySQL æ•°æ®åº“ç®¡ç†ç•Œé¢ï¼ˆroot/123456ï¼‰ |
| ğŸ“Š **MySQL æ•°æ®åº“** | `localhost:3307` | æ•°æ®åº“è¿æ¥ï¼ˆç”¨æˆ·å: root, å¯†ç : 123456ï¼‰ |

**æµ‹è¯•è´¦å·ï¼š**

**ç®¡ç†å‘˜è´¦å·ï¼š**
- é‚®ç®±ï¼š`admin@fitpulse.com`
- å¯†ç ï¼š`Admin123!`

**æ™®é€šç”¨æˆ·è´¦å·ï¼š**
- é‚®ç®±ï¼š`user@fitpulse.com`  
- å¯†ç ï¼š`User123!`

---

## å…«ã€å¿«é€Ÿæ¼”ç¤ºï¼ˆ3â€“5 åˆ†é’Ÿï¼‰

1ï¼‰å¯åŠ¨æœåŠ¡

```bash
cp deploy/.env.example .env

docker compose up -d --build
docker compose ps
```

2ï¼‰è®¿é—®é¡µé¢

- å‰ç«¯ï¼šhttp://localhost
- åç«¯ API å‰ç¼€ï¼šhttp://localhost:8080/api
- phpMyAdminï¼šhttp://localhost:8081

3ï¼‰æ¼”ç¤ºæµç¨‹ï¼ˆå»ºè®®é¡ºåºï¼‰

- ä½¿ç”¨ä¸‹æ–¹æ¼”ç¤ºè´¦å·ç™»å½•ï¼ˆæˆ–è‡ªè¡Œæ³¨å†Œï¼‰
- è¿›å…¥â€œå¥åº·æ¡£æ¡ˆ / å¥åº·è®°å½•â€ç›¸å…³é¡µé¢ï¼Œå¡«å†™æˆ–æ›´æ–°ä½“é‡ / è®­ç»ƒ / ç¡çœ  / é¥®é£Ÿç­‰è®°å½•
- æ‰“å¼€â€œæ™ºèƒ½å¯¹è¯ / Chatâ€é¡µé¢ï¼Œæé—®ï¼ˆå¦‚ï¼šâ€œæ ¹æ®æˆ‘çš„ç›®æ ‡ç»™å‡ºä¸€å‘¨è®­ç»ƒå’Œé¥®é£Ÿå»ºè®®â€ï¼‰
- é‡æ–°è¿›å…¥æˆ–åˆ·æ–°å¯¹è¯é¡µé¢ï¼šç¡®è®¤å†å²å¯¹è¯ä»ç„¶å­˜åœ¨ï¼ˆéªŒè¯ä¼šè¯ & æ¶ˆæ¯æŒä¹…åŒ–ï¼‰

> åªè¦æŒ‰ä¸Šé¢æ­¥éª¤èµ°ä¸€éï¼Œå³å¯åœ¨ 3â€“5 åˆ†é’Ÿå†…å®Œæ•´å±•ç¤ºâ€œç™»å½• â†’ å¡«å†™å¥åº·æ•°æ® â†’ AI å¯¹è¯ â†’ å†å²å¯¹è¯æŒä¹…åŒ–â€è¿™ä¸€å®Œæ•´é—­ç¯ã€‚

## å…«ã€å¸¸ç”¨è¿ç»´å‘½ä»¤
```bash
# æŸ¥çœ‹æ—¥å¿—ï¼ˆæ‰€æœ‰æœåŠ¡ï¼‰
docker compose logs -f

# åªçœ‹åç«¯æ—¥å¿—
docker compose logs -f backend

# åœæ­¢æœåŠ¡ï¼ˆä¿ç•™æ•°æ®å·ï¼‰
docker compose down

**æ•°æ®åº“åˆå§‹åŒ–æœºåˆ¶ï¼š**

`sql/` ç›®å½•åŒ…å«åˆå§‹åŒ–è„šæœ¬ï¼š
- `01_schema.sql`ï¼šåˆ›å»ºè¡¨ç»“æ„ï¼ˆ19ä¸ªè¡¨ï¼‰
- `02_init_data.sql`ï¼šæ’å…¥åˆå§‹æ•°æ®ï¼ˆç”¨æˆ·ã€è§’è‰²ã€èœå•ã€æƒé™ç­‰ï¼‰

**å…³é”®è§„åˆ™ï¼š**
- åˆå§‹åŒ–è„šæœ¬**åªåœ¨é¦–æ¬¡åˆ›å»ºæ•°æ®å·æ—¶æ‰§è¡Œ**
- `docker compose down` åªåˆ é™¤å®¹å™¨ï¼Œ**ä¿ç•™æ•°æ®å·**ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±
- `docker compose down -v` åˆ é™¤å®¹å™¨å’Œæ•°æ®å·ï¼Œ**é‡å¯åä¼šé‡æ–°åˆå§‹åŒ–**
**ç®¡ç†å‘˜è´¦å·ï¼š**
- é‚®ç®±ï¼š`admin@fitpulse.com`
- å¯†ç ï¼š`Admin123!`
- æƒé™ï¼šå®Œæ•´çš„ç³»ç»Ÿç®¡ç†æƒé™

**æ™®é€šç”¨æˆ·è´¦å·ï¼š**
- é‚®ç®±ï¼š`user@fitpulse.com`
- å¯†ç ï¼š`User123!`
- æƒé™ï¼šå¥åº·æ¡£æ¡ˆç®¡ç†ã€æ™ºèƒ½å¯¹è¯ç­‰åŸºç¡€åŠŸèƒ½

> **æç¤ºï¼š** åˆå§‹è´¦å·ä¿¡æ¯ä¿å­˜åœ¨ `sql/02_init_data.sql` ä¸­ã€‚å¦‚éœ€åœ¨å…¨æ–°æ•°æ®åº“ä¸­åˆ›å»ºè¿™äº›è´¦å·ï¼Œè¯·æ‰§è¡Œ `docker compose down -v && docker compose up -d --build` é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ã€‚
docker compose down -v

# 2. éªŒè¯æ•°æ®å·å·²åˆ é™¤
docker volume ls | grep fitpulse  # Linux/Mac
docker volume ls | Select-String "fitpulse"  # Windows PowerShell

# 3. é‡æ–°å¯åŠ¨ï¼ˆè‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼‰
docker compose up -d --build

# 4. éªŒè¯æ•°æ®åº“å·²åˆå§‹åŒ–
docker compose exec mysql mysql -uroot -p123456 fitpulse_db -e "SHOW TABLES;"
```

**é¢„æœŸç»“æœï¼š**
- åˆ›å»º 19 ä¸ªè¡¨ï¼ˆuser, health_profile, agent, conversation ç­‰ï¼‰
- åˆå§‹ç”¨æˆ·å·²å­˜åœ¨ï¼ˆadmin@fitpulse.com, user@fitpulse.comï¼‰
- å¯ä»¥ä½¿ç”¨åˆå§‹è´¦å·ç™»å½•ç³»ç»Ÿç†å‘˜ï¼ˆAdminï¼‰ï¼šä¾‹å¦‚ `admin@fitpulse.com` / `Admin123!`
- æ™®é€šç”¨æˆ·ï¼ˆUserï¼‰ï¼šä¾‹å¦‚ `user@fitpulse.com` / `User123!`

> è‹¥ä»“åº“æœªå†…ç½®å…·ä½“è´¦å·æˆ–ä½ å·²åˆ é™¤åˆå§‹ç”¨æˆ·ï¼Œè¯·åœ¨å‰ç«¯â€œæ³¨å†Œ / ç™»å½•â€é¡µé¢è‡ªè¡Œæ³¨å†Œè´¦å·ï¼Œå†ä½¿ç”¨æ–°è´¦å·ç™»å½•ç³»ç»Ÿè¿›è¡Œæ¼”ç¤ºã€‚

## ä¹ã€æ•°æ®åº“åˆå§‹åŒ–è¯´æ˜

`sql/` ç›®å½•åŒ…å«åˆå§‹åŒ–è„šæœ¬ï¼š

`01_schema.sql`ï¼šåˆ›å»ºè¡¨ç»“æ„

`02_init_data.sql`ï¼šæ’å…¥åˆå§‹æ•°æ®ï¼ˆå¦‚æœ‰ï¼‰

é¦–æ¬¡å¯åŠ¨ MySQL å®¹å™¨æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼›è‹¥å·²å­˜åœ¨æŒä¹…åŒ–æ•°æ®å·ï¼Œåˆ™ä¸ä¼šé‡å¤æ‰§è¡Œã€‚

å¦‚éœ€â€œé‡ç½®æ•°æ®åº“å¹¶é‡æ–°åˆå§‹åŒ–â€ï¼Œè¯·æ‰§è¡Œï¼š
```bash
docker compose down -v
docker compose up -d --build
```

---

## åã€ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼ˆå¯é€‰ï¼‰

ä¸ºæ–¹ä¾¿ä¸åŒç³»ç»Ÿå¿«é€Ÿéƒ¨ç½²ï¼Œdeploy/ ç›®å½•æä¾›è„šæœ¬å°è£…ï¼ˆç¯å¢ƒæ£€æŸ¥ã€ç«¯å£æ£€æµ‹ã€æ„å»ºã€å¯åŠ¨ã€å¥åº·æ£€æŸ¥ç­‰ï¼‰ï¼š

Linux / macOS
```bash
bash deploy/deploy.sh deploy
```
Windows PowerShell
``` bash
Set-ExecutionPolicy -Scope Process RemoteSigned
.\deploy\deploy.ps1 deploy
```

æ›´è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼šdeploy/README.md

---

## åä¸€ã€LLM API é…ç½®è¯´æ˜

LLM è°ƒç”¨é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼ˆä»¥ .`env` / `.env.example` ä¸ºå‡†ï¼‰ï¼š

`OPENAI_API_KEY`ï¼šOpenAI Keyï¼ˆå¦‚å¯ç”¨ OpenAI è°ƒç”¨ï¼‰

`DASHSCOPE_API_KEY`ï¼šDashScope Keyï¼ˆå¦‚å¯ç”¨é€šä¹‰/ç™¾ç‚¼ç­‰èƒ½åŠ›ï¼‰

å…¶ä»–æ¨¡å‹ç›¸å…³é…ç½®ï¼šå¯åœ¨åç«¯ `application*.yml` ä¸­æŸ¥çœ‹ï¼ˆå¦‚ `base_url`ã€`model` ç­‰ï¼‰

---

## åäºŒã€ç¯å¢ƒå˜é‡è¯´æ˜ï¼ˆ.envï¼‰

æœ¬é¡¹ç›®ä½¿ç”¨æ ¹ç›®å½• `.env` ä½œä¸ºç»Ÿä¸€ç¯å¢ƒå˜é‡å…¥å£ï¼Œdeploy/.env.example ç»™å‡ºäº†å®Œæ•´ç¤ºä¾‹ã€‚å¸¸ç”¨/å…³é”®é¡¹å¦‚ä¸‹ï¼ˆå…·ä½“ä»¥ç¤ºä¾‹æ–‡ä»¶ä¸ºå‡†ï¼‰ï¼š

- æ•°æ®åº“ç›¸å…³
  - `MYSQL_HOST` / `MYSQL_PORT` / `MYSQL_DATABASE` / `MYSQL_USER` / `MYSQL_PASSWORD` / `MYSQL_ROOT_PASSWORD`
- ç«¯å£ç›¸å…³
  - `FRONTEND_PORT`ï¼ˆå‰ç«¯å¯¹å¤–ç«¯å£ï¼Œé»˜è®¤ 80ï¼‰
  - `BACKEND_PORT`ï¼ˆåç«¯å¯¹å¤–ç«¯å£ï¼Œé»˜è®¤ 8080ï¼‰
  - `PMA_PORT`ï¼ˆphpMyAdmin å¯¹å¤–ç«¯å£ï¼Œé»˜è®¤ 8081ï¼‰
  - `MYSQL_EXPOSE_PORT`ï¼ˆå®¿ä¸»æœºæ˜ å°„çš„ MySQL ç«¯å£ï¼Œé»˜è®¤ 3307ï¼‰
- é‰´æƒç›¸å…³
  - `JWT_SECRET`ï¼ˆJWT ç­¾åå¯†é’¥ï¼Œä¸é…ç½®åˆ™ä½¿ç”¨ application.yml ä¸­çš„é»˜è®¤å€¼ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®å¿…é¡»è¦†ç›–ï¼‰
- LLM ç›¸å…³
  - `OPENAI_API_KEY`ï¼ˆå¯é€‰ä½†å¼ºçƒˆå»ºè®®åœ¨æ¼”ç¤ºæ—¶é…ç½®ï¼‰
  - `DASHSCOPE_API_KEY`ï¼ˆå¦‚ä½¿ç”¨é€šä¹‰åƒé—® / ç™¾ç‚¼ç­‰å›½å†…æ¨¡å‹ï¼‰

> å»ºè®®å®é™…éƒ¨ç½²æ—¶è‡³å°‘ç¡®è®¤ï¼šæ•°æ®åº“ã€ç«¯å£æ˜ å°„ã€JWT_SECRET å’Œ LLM Key å››ç±»å˜é‡å‡å·²æ­£ç¡®è®¾ç½®ã€‚

---

## åä¸‰ã€LLM Key æœªé…ç½®æ—¶çš„è¡Œä¸º

- æœªé…ç½® `OPENAI_API_KEY` æˆ–å¯¹åº”æä¾›å•† Key æ—¶ï¼šåç«¯è°ƒç”¨ LLM æ¥å£ä¼šè¿”å›â€œæœªé…ç½® Key / æ— æ³•è°ƒç”¨â€æˆ–ç›¸åº”é”™è¯¯æç¤ºï¼ˆå…·ä½“æ–‡æ¡ˆä»¥åç«¯å®ç°ä¸ºå‡†ï¼‰ã€‚
- å…¶ä»–ä¸šåŠ¡åŠŸèƒ½ï¼ˆç™»å½• / é‰´æƒã€å¥åº·æ¡£æ¡ˆä¸è®°å½•ç®¡ç†ã€é¡µé¢æµè§ˆã€æ•°æ®åº“æŒä¹…åŒ–ç­‰ï¼‰**ä¸å—å½±å“ï¼Œå¯ä»¥æ­£å¸¸æ¼”ç¤º**ã€‚

> ä¹Ÿå°±æ˜¯è¯´ï¼šå³ä¾¿è¯„æµ‹ç¯å¢ƒæ²¡æœ‰ä»»ä½•å¤–ç½‘ Keyï¼Œè€å¸ˆä¾ç„¶å¯ä»¥å®Œæ•´ä½“éªŒâ€œç™»å½• + å¥åº·æ•°æ®ç®¡ç† + å¯¹è¯é¡µé¢ UI & é”™è¯¯æç¤º + å†å²å¯¹è¯åˆ—è¡¨â€ç­‰åŠŸèƒ½ï¼Œä¸ä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿâ€œçœ‹èµ·æ¥åæ‰â€ã€‚

---

## åå››ã€æ¥å£è¯´æ˜ï¼ˆå…³é”® APIï¼‰

- ç»Ÿä¸€å‰ç¼€ï¼šæ‰€æœ‰åç«¯æ¥å£é»˜è®¤é€šè¿‡ Nginx ä»¥ `/api` ä½œä¸ºå‰ç¼€å¯¹å¤–æš´éœ²ï¼ˆå¯¹åº” Spring Boot `server.servlet.context-path=/api`ï¼‰ã€‚

è®¤è¯ / ç”¨æˆ·ç›¸å…³
- POST `/api/v1/auth/register` ç”¨æˆ·æ³¨å†Œ
- POST `/api/v1/auth/login` ç”¨æˆ·ç™»å½•ï¼Œè¿”å› JWT Token
- GET `/api/v1/auth/me` è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯

å¥åº·æ¡£æ¡ˆ / è®°å½•ç›¸å…³ï¼ˆç¤ºä¾‹ï¼Œå…·ä½“ä»¥åç«¯ controller å®ç°ä¸ºå‡†ï¼‰
- ç¤ºä¾‹ï¼š`/api/health/profile` è·å– / æ›´æ–°ä¸ªäººå¥åº·æ¡£æ¡ˆ
- ç¤ºä¾‹ï¼š`/api/weight/*`ã€`/api/workout/*`ã€`/api/sleep/*`ã€`/api/diet/*` ç­‰ç”¨äºä½“é‡ / è®­ç»ƒ / ç¡çœ  / é¥®é£Ÿè®°å½•çš„æŸ¥è¯¢ä¸å†™å…¥

æ™ºèƒ½ä½“ä¸å¯¹è¯ç›¸å…³
- GET/POST `/api/agents` æ™ºèƒ½ä½“åˆ—è¡¨ / åˆ›å»ºæ™ºèƒ½ä½“
- GET `/api/agents/{id}` æ™ºèƒ½ä½“è¯¦æƒ…
- POST `/api/chat` ä¸æ™ºèƒ½ä½“å¯¹è¯ï¼ˆç®€åŒ–æ¥å£ï¼Œè‡ªåŠ¨åˆ›å»ºä¼šè¯ï¼‰
- POST `/api/message/send` å‘é€æ¶ˆæ¯ï¼Œä¸æŒ‡å®šä¼šè¯ / æ™ºèƒ½ä½“å¯¹è¯
- GET `/api/conversation/list` ä¼šè¯åˆ—è¡¨
- GET `/api/conversation/{id}` ä¼šè¯è¯¦æƒ…
- GET `/api/message/history` ä¼šè¯æ¶ˆæ¯å†å²

> å¦‚æœä½ åœ¨é¡¹ç›®ä¸­å¯ç”¨äº† Swagger / Knife4j ç­‰æ¥å£æ–‡æ¡£ï¼Œå¯ä»¥åœ¨æ­¤è¡¥å……å®é™…è®¿é—®åœ°å€ï¼ˆä¾‹å¦‚ï¼š`http://localhost:8080/api/doc.html` æˆ– `http://localhost:8080/swagger-ui.html`ï¼‰ã€‚ç›®å‰ä»¥æ‰‹å†™å…³é”® API è¯´æ˜ä¸ºä¸»ï¼Œæ–¹ä¾¿è€å¸ˆå¿«é€Ÿå¯¹ç…§ä»£ç ç†è§£é¡¹ç›®ç»“æ„ã€‚

---

## åäº”ã€å¸¸è§é—®é¢˜ï¼ˆTroubleshootingï¼‰
### 12.1 ç«¯å£å†²çª

è‹¥ `80/8080/8081/3307` è¢«å ç”¨ï¼Œè¯·ä¿®æ”¹ `.env` ä¸­ç«¯å£åé‡å¯ï¼š
```bash
docker compose down
docker compose up -d --build
```
### 12.2 å‰ç«¯èƒ½æ‰“å¼€ä½†æ¥å£ 404 / 502

æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸å¯åŠ¨ã€Nginx æ˜¯å¦æˆåŠŸä»£ç† `/api/`ï¼š
``` bash
docker compose ps
docker compose logs -f backend
docker compose logs -f frontend
```
### 12.3 Windows è„šæœ¬æ— æ³•æ‰§è¡Œ

PowerShell æ‰§è¡Œï¼š
```bash
Set-ExecutionPolicy -Scope Process RemoteSigned
```
