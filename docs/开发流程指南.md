# FitPulse å¼€å‘æµç¨‹æŒ‡å—

**è„‰åŠ¨å¥åº· Â· å¤šç»´ç”Ÿæ´»ç®¡ç†ç³»ç»Ÿï¼ˆFitPulseï¼‰**  
ä»é›¶å¼€å§‹åˆ°é¡¹ç›®å®ç°çš„å®Œæ•´å¼€å‘æŒ‡å— Â· æ‰‹æŠŠæ‰‹æ•™ä½ åš

---

## ğŸ“‹ ç›®å½•

- [0. å½“å‰è¿›åº¦æ€»è§ˆ](#0-å½“å‰è¿›åº¦æ€»è§ˆ)
- [1. é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
- [2. å·²å®Œæˆçš„å·¥ä½œ âœ…](#2-å·²å®Œæˆçš„å·¥ä½œ-)
- [3. é˜¶æ®µ 1ï¼šåŸºç¡€å·¥ç¨‹æ­å»º](#3-é˜¶æ®µ-1åŸºç¡€å·¥ç¨‹æ­å»º)
- [4. é˜¶æ®µ 2ï¼šç”¨æˆ·ç³»ç»Ÿ + å¥åº·æ¡£æ¡ˆ](#4-é˜¶æ®µ-2ç”¨æˆ·ç³»ç»Ÿ--å¥åº·æ¡£æ¡ˆ)
- [5. é˜¶æ®µ 3ï¼šæ™ºèƒ½ä½“ + LLM + èŠå¤©](#5-é˜¶æ®µ-3æ™ºèƒ½ä½“--llm--èŠå¤©)
- [6. é˜¶æ®µ 4ï¼šè®­ç»ƒè®¡åˆ’ç”Ÿæˆ](#6-é˜¶æ®µ-4è®­ç»ƒè®¡åˆ’ç”Ÿæˆ)
- [7. é˜¶æ®µ 5ï¼šè”è°ƒæµ‹è¯• & ä¼˜åŒ–](#7-é˜¶æ®µ-5è”è°ƒæµ‹è¯•--ä¼˜åŒ–)
- [8. æœªæ¥æ‰©å±•åŠŸèƒ½](#8-æœªæ¥æ‰©å±•åŠŸèƒ½)
- [9. å¼€å‘æ³¨æ„äº‹é¡¹ï¼ˆé¿å‘æŒ‡å—ï¼‰](#9-å¼€å‘æ³¨æ„äº‹é¡¹é¿å‘æŒ‡å—)

---

## 0. å½“å‰è¿›åº¦æ€»è§ˆ

### ğŸ“Š æ•´ä½“è¿›åº¦

```
æ€»è¿›åº¦ï¼š15%ï¼ˆæ–‡æ¡£é˜¶æ®µå®Œæˆï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… æ–‡æ¡£è®¾è®¡é˜¶æ®µï¼ˆå·²å®Œæˆ 100%ï¼‰                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ é˜¶æ®µ 1ï¼šåŸºç¡€å·¥ç¨‹ï¼ˆ0%ï¼‰  â†’ ä½ ç°åœ¨è¦å¼€å§‹çš„              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ é˜¶æ®µ 2ï¼šç”¨æˆ·ç³»ç»Ÿï¼ˆ0%ï¼‰                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ é˜¶æ®µ 3ï¼šAI æ™ºèƒ½ä½“ï¼ˆ0%ï¼‰ â†’ æ ¸å¿ƒåˆ›æ–°åŠŸèƒ½                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ é˜¶æ®µ 4ï¼šè®¡åˆ’ç”Ÿæˆï¼ˆ0%ï¼‰                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ é˜¶æ®µ 5ï¼šæµ‹è¯•ä¼˜åŒ–ï¼ˆ0%ï¼‰                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¯ MVP èŒƒå›´å®šä¹‰

**ç®€åŒ–ç‰ˆåŠŸèƒ½ï¼ˆç¬¬ä¸€ä¸ªå¯è¿è¡Œç‰ˆæœ¬ï¼‰**ï¼š

âœ… ç”¨æˆ·æ³¨å†Œ / ç™»å½•ï¼ˆJWT è®¤è¯ï¼‰  
âœ… å¥åº·æ¡£æ¡ˆç»´æŠ¤ï¼ˆèº«é«˜ã€ä½“é‡ã€ç›®æ ‡ç­‰ï¼‰  
âœ… ä½¿ç”¨å†…ç½® AI å‡è„‚æ•™ç»ƒèŠå¤©ï¼ˆçœŸå® LLM è°ƒç”¨ï¼‰  
âœ… ä¸€é”®ç”Ÿæˆ 7 å¤©è®­ç»ƒè®¡åˆ’  
âœ… åŸºç¡€å‰ç«¯ç•Œé¢ï¼ˆèƒ½ç”¨å³å¯ï¼Œä¸æ±‚ç¾è§‚ï¼‰

**ä¸åœ¨ MVP èŒƒå›´å†…**ï¼ˆåç»­è¿­ä»£ï¼‰ï¼š

âŒ é¥®é£Ÿæ‹ç…§è¯†åˆ«ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼Œä½†æ”¾ç¬¬äºŒæœŸï¼‰  
âŒ å‘¨æŠ¥ã€é£é™©æé†’  
âŒ çŸ¥è¯†åº“ RAG  
âŒ ç”¨æˆ·è‡ªå®šä¹‰æ™ºèƒ½ä½“  
âŒ ç®¡ç†åå°

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç›®æ ‡

æ„å»ºä¸€ä¸ªé›†æˆ AI æŠ€æœ¯çš„å¤šç»´å¥åº·ç®¡ç†å¹³å°ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š
- å¥åº·æ•°æ®è®°å½•ä¸åˆ†æ
- ğŸ“¸ **AI é¥®é£Ÿæ‹ç…§è¯†åˆ«**ï¼ˆåˆ›æ–°åŠŸèƒ½ï¼‰
- æ™ºèƒ½ä½“å¯¹è¯ä¸å¥åº·å»ºè®®
- ä¸ªæ€§åŒ–å¥åº·è®¡åˆ’ç”Ÿæˆ

### 1.2 æŠ€æœ¯é€‰å‹

| å±‚çº§ | æŠ€æœ¯ | ç†ç”± |
|------|------|------|
| **å‰ç«¯** | Vue 3 + Vite | ç°ä»£åŒ–ã€é«˜æ€§èƒ½ã€å¼€å‘ä½“éªŒå¥½ |
| **åç«¯** | Spring Boot 3.2 | æˆç†Ÿç”Ÿæ€ã€æ˜“äºé›†æˆ AI æœåŠ¡ |
| **æ•°æ®åº“** | MySQL 8.0 | ç¨³å®šå¯é ã€æ”¯æŒäº‹åŠ¡ |
| **ç¼“å­˜** | Redis 7.x | é«˜æ€§èƒ½ã€æ”¯æŒ Session ç®¡ç† |
| **å­˜å‚¨** | MinIO / OSS | å›¾ç‰‡å­˜å‚¨ã€å¯æ‰©å±• |
| **AI** | OpenAI GPT-4o | å¤šæ¨¡æ€èƒ½åŠ›ã€é£Ÿç‰©è¯†åˆ« |

### 1.3 å¼€å‘å‘¨æœŸè§„åˆ’ï¼ˆMVP ç‰ˆæœ¬ï¼‰

```
æ€»å·¥æœŸï¼š4-6 å‘¨ï¼ˆç®€åŒ–ç‰ˆ MVPï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Week 1    â”‚ é˜¶æ®µ 1ï¼šåŸºç¡€å·¥ç¨‹æ­å»º                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Week 2    â”‚ é˜¶æ®µ 2ï¼šç”¨æˆ·ç³»ç»Ÿ + å¥åº·æ¡£æ¡ˆ                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Week 3-4  â”‚ é˜¶æ®µ 3ï¼šæ™ºèƒ½ä½“ + LLM + èŠå¤©                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Week 5    â”‚ é˜¶æ®µ 4ï¼šè®­ç»ƒè®¡åˆ’ç”Ÿæˆ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Week 6    â”‚ é˜¶æ®µ 5ï¼šè”è°ƒæµ‹è¯• & ä¼˜åŒ–                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. å·²å®Œæˆçš„å·¥ä½œ âœ…

### 3.1 ğŸ“ ä»»åŠ¡æ¸…å•

- [ ] **Task 1.1**: åˆ›å»º Git ä»“åº“å’Œç›®å½•ç»“æ„
- [ ] **Task 1.2**: åˆå§‹åŒ–æ•°æ®åº“ï¼ˆå»ºåº“å»ºè¡¨ + åŸºç¡€æ•°æ®ï¼‰
- [ ] **Task 1.3**: æ­å»ºåç«¯ Spring Boot é¡¹ç›®
- [ ] **Task 1.4**: æ­å»ºå‰ç«¯ Vue 3 é¡¹ç›®
- [ ] **Task 1.5**: å‰åç«¯è”è°ƒéªŒè¯

---

### 3.2 Task 1.1ï¼šåˆ›å»º Git ä»“åº“å’Œç›®å½•ç»“æ„

#### ä½ è¦åšä»€ä¹ˆ

**Step 1**: åœ¨æœ¬åœ°åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•

```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir Health_agent_platform
cd Health_agent_platform

# 2. åˆå§‹åŒ– Git
git init

# 3. åˆ›å»ºæ ‡å‡†ç›®å½•ç»“æ„
mkdir backend
mkdir frontend
mkdir docs

# 4. ç§»åŠ¨ç°æœ‰æ–‡æ¡£åˆ° docs ç›®å½•
# æŠŠä½ å·²ç»å®Œæˆçš„ 4 ä¸ª md æ–‡æ¡£éƒ½æ”¾è¿›å»
```

**Step 2**: åˆ›å»º `.gitignore`

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .gitignore
cat > .gitignore << 'EOF'
# IDE
.idea/
.vscode/
*.iml

# åç«¯
backend/target/
backend/.mvn/
backend/mvnw
backend/mvnw.cmd

# å‰ç«¯
frontend/node_modules/
frontend/dist/
frontend/.env.local

# ç³»ç»Ÿ
.DS_Store
Thumbs.db

# æ—¥å¿—
*.log
EOF
```

**Step 3**: åˆ›å»º README.md

```bash
cat > README.md << 'EOF'
# FitPulse - è„‰åŠ¨å¥åº·ç®¡ç†ç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹
åŸºäº AI çš„å¤šç»´å¥åº·ç®¡ç†å¹³å°ï¼Œæ”¯æŒæ™ºèƒ½ä½“å¯¹è¯ã€å¥åº·æ•°æ®è®°å½•ã€è®­ç»ƒè®¡åˆ’ç”Ÿæˆç­‰åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ
- åç«¯ï¼šSpring Boot 3.2 + MySQL 8.0 + Redis
- å‰ç«¯ï¼šVue 3 + Vite + Element Plus
- AIï¼šOpenAI GPT-4o

## å¿«é€Ÿå¼€å§‹
è¯¦è§ `/docs/å¼€å‘æµç¨‹æŒ‡å—.md`

## æ–‡æ¡£
- [ç”¨æˆ·éœ€æ±‚è¯´æ˜ä¹¦](./docs/ç”¨æˆ·éœ€æ±‚è¯´æ˜ä¹¦.md)
- [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](./docs/æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md)
- [API è®¾è®¡æ–‡æ¡£](./docs/APIè®¾è®¡æ–‡æ¡£.md)
- [ç¯å¢ƒé…ç½®éœ€æ±‚æ–‡æ¡£](./docs/ç¯å¢ƒé…ç½®éœ€æ±‚æ–‡æ¡£.md)
- [å¼€å‘æµç¨‹æŒ‡å—](./docs/å¼€å‘æµç¨‹æŒ‡å—.md)
EOF
```

**Step 4**: é¦–æ¬¡æäº¤

```bash
git add .
git commit -m "init: é¡¹ç›®åˆå§‹åŒ–ï¼Œæ·»åŠ æ–‡æ¡£å’Œç›®å½•ç»“æ„"

# å¦‚æœæœ‰è¿œç¨‹ä»“åº“ï¼Œå…³è”å¹¶æ¨é€
# git remote add origin https://github.com/your-username/fitpulse.git
# git branch -M main
# git push -u origin main
```

#### äº§å‡º

âœ… æ ‡å‡†çš„é¡¹ç›®ç›®å½•ç»“æ„  
âœ… å®Œæ•´çš„ `.gitignore` æ–‡ä»¶  
âœ… é¡¹ç›® README.md  
âœ… ç¬¬ä¸€æ¬¡ Git æäº¤

#### âš ï¸ æ³¨æ„äº‹é¡¹

- **ä¸è¦**æŠŠ `node_modules/`ã€`target/`ã€`.env.local` æäº¤åˆ° Git
- **ç¡®ä¿**æ‰€æœ‰æ–‡æ¡£éƒ½åœ¨ `docs/` ç›®å½•ä¸‹ç‰ˆæœ¬ç®¡ç†
- **å»ºè®®**ä½¿ç”¨ `main` ä½œä¸ºä¸»åˆ†æ”¯ï¼Œ`develop` ä½œä¸ºå¼€å‘åˆ†æ”¯

---

### 3.3 Task 1.2ï¼šåˆå§‹åŒ–æ•°æ®åº“

#### ä½ è¦åšä»€ä¹ˆ

**Step 1**: å¯åŠ¨æœ¬åœ° MySQL

```bash
# æ–¹å¼1ï¼šä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰
docker run -d \
  --name fitpulse-mysql \
  -e MYSQL_ROOT_PASSWORD=root123456 \
  -e MYSQL_DATABASE=fitpulse_dev \
  -p 3306:3306 \
  mysql:8.0

# æ–¹å¼2ï¼šä½¿ç”¨æœ¬åœ° MySQL æœåŠ¡
# ç¡®ä¿ MySQL å·²å¯åŠ¨
```

**Step 2**: åˆ›å»ºæ•°æ®åº“

```bash
# è¿æ¥ MySQL
mysql -u root -p

# æ‰§è¡Œä»¥ä¸‹ SQL
```

```sql
-- åˆ›å»ºå¼€å‘æ•°æ®åº“
CREATE DATABASE IF NOT EXISTS fitpulse_dev 
  DEFAULT CHARACTER SET utf8mb4 
  COLLATE utf8mb4_unicode_ci;

USE fitpulse_dev;
```

**Step 3**: æ‰§è¡Œå»ºè¡¨è„šæœ¬ï¼ˆå‚è€ƒã€Šæ•°æ®åº“è®¾è®¡æ–‡æ¡£.mdã€‹ï¼‰

åˆ›å»ºæ ¸å¿ƒè¡¨ï¼š

```sql
-- 1. ç”¨æˆ·è¡¨
CREATE TABLE `user` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `email` VARCHAR(255) NOT NULL UNIQUE COMMENT 'é‚®ç®±',
  `password` VARCHAR(255) NOT NULL COMMENT 'å¯†ç ï¼ˆBCryptï¼‰',
  `nickname` VARCHAR(100) COMMENT 'æ˜µç§°',
  `avatar_url` VARCHAR(500) COMMENT 'å¤´åƒURL',
  `role` VARCHAR(50) DEFAULT 'USER' COMMENT 'è§’è‰²ï¼šUSER/ADMIN',
  `status` VARCHAR(50) DEFAULT 'ACTIVE' COMMENT 'çŠ¶æ€ï¼šACTIVE/DISABLED',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_email (`email`),
  INDEX idx_status (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·è¡¨';

-- 2. å¥åº·æ¡£æ¡ˆè¡¨
CREATE TABLE `health_profile` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL UNIQUE COMMENT 'ç”¨æˆ·ID',
  `height` DECIMAL(5,2) COMMENT 'èº«é«˜(cm)',
  `current_weight` DECIMAL(5,2) COMMENT 'å½“å‰ä½“é‡(kg)',
  `target_weight` DECIMAL(5,2) COMMENT 'ç›®æ ‡ä½“é‡(kg)',
  `bmi` DECIMAL(4,2) COMMENT 'BMI',
  `fitness_level` VARCHAR(50) COMMENT 'å¥èº«æ°´å¹³ï¼šBEGINNER/INTERMEDIATE/ADVANCED',
  `weekly_workout_days` INT COMMENT 'æ¯å‘¨è®­ç»ƒå¤©æ•°',
  `preferred_time` VARCHAR(50) COMMENT 'åå¥½æ—¶é—´ï¼šMORNING/AFTERNOON/EVENING',
  `medical_conditions` TEXT COMMENT 'å·²ç¡®è¯Šç–¾ç—…',
  `family_history` TEXT COMMENT 'å®¶æ—ç—…å²',
  `exercise_restrictions` TEXT COMMENT 'è¿åŠ¨é™åˆ¶',
  `has_cardiovascular_risk` BOOLEAN DEFAULT FALSE COMMENT 'å¿ƒè¡€ç®¡é£é™©',
  `has_diabetes_risk` BOOLEAN DEFAULT FALSE COMMENT 'ç³–å°¿ç—…é£é™©',
  `health_goal` TEXT COMMENT 'å¥åº·ç›®æ ‡',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON DELETE CASCADE,
  INDEX idx_user_id (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å¥åº·æ¡£æ¡ˆè¡¨';

-- 3. LLM æä¾›å•†è¡¨
CREATE TABLE `llm_provider` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `name` VARCHAR(100) NOT NULL COMMENT 'æä¾›å•†åç§°',
  `code` VARCHAR(50) NOT NULL UNIQUE COMMENT 'æä¾›å•†ä»£ç ï¼šOPENAI/AZURE_OPENAI',
  `base_url` VARCHAR(500) COMMENT 'API Base URL',
  `api_key` VARCHAR(500) COMMENT 'API Keyï¼ˆåŠ å¯†å­˜å‚¨ï¼‰',
  `is_enabled` BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_code (`code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='LLMæä¾›å•†è¡¨';

-- 4. LLM æ¨¡å‹è¡¨
CREATE TABLE `llm_model` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `provider_id` BIGINT NOT NULL COMMENT 'æä¾›å•†ID',
  `model_name` VARCHAR(100) NOT NULL COMMENT 'æ¨¡å‹åç§°',
  `model_code` VARCHAR(100) NOT NULL COMMENT 'æ¨¡å‹ä»£ç ',
  `model_type` VARCHAR(50) COMMENT 'CHAT/EMBEDDING/MULTIMODAL',
  `is_default` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦é»˜è®¤æ¨¡å‹',
  `is_enabled` BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`provider_id`) REFERENCES `llm_provider`(`id`) ON DELETE CASCADE,
  INDEX idx_provider_id (`provider_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='LLMæ¨¡å‹è¡¨';

-- 5. æ™ºèƒ½ä½“è¡¨
CREATE TABLE `agent` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `name` VARCHAR(200) NOT NULL COMMENT 'æ™ºèƒ½ä½“åç§°',
  `avatar_url` VARCHAR(500) COMMENT 'å¤´åƒURL',
  `description` TEXT COMMENT 'æè¿°',
  `category` VARCHAR(100) COMMENT 'åˆ†ç±»ï¼šFAT_LOSS_COACH/MUSCLE_COACHç­‰',
  `visibility` VARCHAR(50) DEFAULT 'PRIVATE' COMMENT 'PUBLIC/PRIVATE',
  `created_by` BIGINT COMMENT 'åˆ›å»ºè€…IDï¼ˆNULL=å®˜æ–¹ï¼‰',
  `status` VARCHAR(50) DEFAULT 'ACTIVE' COMMENT 'ACTIVE/DISABLED',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_category (`category`),
  INDEX idx_visibility (`visibility`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ™ºèƒ½ä½“è¡¨';

-- 6. æ™ºèƒ½ä½“é…ç½®è¡¨
CREATE TABLE `agent_config` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `agent_id` BIGINT NOT NULL UNIQUE COMMENT 'æ™ºèƒ½ä½“ID',
  `system_prompt` TEXT COMMENT 'ç³»ç»Ÿæç¤ºè¯',
  `language_style` VARCHAR(50) COMMENT 'PROFESSIONAL/ENCOURAGING/CASUAL',
  `can_read_profile` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å¯è¯»å–å¥åº·æ¡£æ¡ˆ',
  `llm_model_id` BIGINT COMMENT 'ä½¿ç”¨çš„LLMæ¨¡å‹ID',
  `llm_params` JSON COMMENT 'LLMå‚æ•°é…ç½®',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`agent_id`) REFERENCES `agent`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`llm_model_id`) REFERENCES `llm_model`(`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ™ºèƒ½ä½“é…ç½®è¡¨';

-- 7. ä¼šè¯è¡¨
CREATE TABLE `conversation` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT 'ç”¨æˆ·ID',
  `agent_id` BIGINT NOT NULL COMMENT 'æ™ºèƒ½ä½“ID',
  `title` VARCHAR(500) COMMENT 'ä¼šè¯æ ‡é¢˜',
  `status` VARCHAR(50) DEFAULT 'ACTIVE' COMMENT 'ACTIVE/ARCHIVED',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`agent_id`) REFERENCES `agent`(`id`),
  INDEX idx_user_id (`user_id`),
  INDEX idx_agent_id (`agent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä¼šè¯è¡¨';

-- 8. æ¶ˆæ¯è¡¨
CREATE TABLE `message` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `conversation_id` BIGINT NOT NULL COMMENT 'ä¼šè¯ID',
  `role` VARCHAR(50) NOT NULL COMMENT 'user/assistant',
  `content` TEXT NOT NULL COMMENT 'æ¶ˆæ¯å†…å®¹',
  `llm_model_id` BIGINT COMMENT 'ä½¿ç”¨çš„æ¨¡å‹ID',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (`conversation_id`) REFERENCES `conversation`(`id`) ON DELETE CASCADE,
  INDEX idx_conversation_id (`conversation_id`),
  INDEX idx_created_at (`created_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ¶ˆæ¯è¡¨';

-- 9. å¥åº·è®¡åˆ’è¡¨
CREATE TABLE `health_plan` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT 'ç”¨æˆ·ID',
  `agent_id` BIGINT COMMENT 'ç”Ÿæˆè®¡åˆ’çš„æ™ºèƒ½ä½“ID',
  `title` VARCHAR(500) COMMENT 'è®¡åˆ’æ ‡é¢˜',
  `plan_type` VARCHAR(50) COMMENT 'FAT_LOSS/MUSCLE_GAIN/MIXED',
  `start_date` DATE COMMENT 'å¼€å§‹æ—¥æœŸ',
  `end_date` DATE COMMENT 'ç»“æŸæ—¥æœŸ',
  `status` VARCHAR(50) DEFAULT 'ACTIVE' COMMENT 'ACTIVE/COMPLETED/CANCELLED',
  `plan_config` JSON COMMENT 'è®¡åˆ’è¯¦ç»†å†…å®¹ï¼ˆJSONæ ¼å¼ï¼‰',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON DELETE CASCADE,
  INDEX idx_user_id (`user_id`),
  INDEX idx_status (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å¥åº·è®¡åˆ’è¡¨';
```

**Step 4**: æ’å…¥åŸºç¡€æ•°æ®

```sql
-- æ’å…¥ OpenAI æä¾›å•†ï¼ˆæ³¨æ„ï¼šå®é™… API Key ä¸è¦å†™å…¥æ•°æ®åº“ï¼Œç”¨ç¯å¢ƒå˜é‡ï¼‰
INSERT INTO llm_provider (name, code, base_url, is_enabled) 
VALUES ('OpenAI', 'OPENAI', 'https://api.openai.com/v1', TRUE);

-- æ’å…¥ GPT-4o-mini æ¨¡å‹
INSERT INTO llm_model (provider_id, model_name, model_code, model_type, is_default, is_enabled) 
VALUES (1, 'GPT-4o-mini', 'gpt-4o-mini', 'CHAT', TRUE, TRUE);

-- æ’å…¥å®˜æ–¹"æ ‡å‡†å‡è„‚æ•™ç»ƒ"æ™ºèƒ½ä½“
INSERT INTO agent (name, description, category, visibility, created_by, status) 
VALUES (
  'æ ‡å‡†å‡è„‚æ•™ç»ƒ',
  'ä¸“ä¸šçš„AIå‡è„‚æ•™ç»ƒï¼Œæ ¹æ®æ‚¨çš„å¥åº·æ¡£æ¡ˆæä¾›ä¸ªæ€§åŒ–è®­ç»ƒå»ºè®®',
  'FAT_LOSS_COACH',
  'PUBLIC',
  NULL,
  'ACTIVE'
);

-- æ’å…¥æ•™ç»ƒé…ç½®
INSERT INTO agent_config (
  agent_id, 
  system_prompt, 
  language_style, 
  can_read_profile, 
  llm_model_id,
  llm_params
) VALUES (
  1,
  'ä½ æ˜¯ä¸€åä¸“ä¸šçš„å‡è„‚å¥èº«æ•™ç»ƒï¼Œåå«"FitPulse æ•™ç»ƒ"ã€‚ä½ çš„èŒè´£æ˜¯ï¼š\n1. æ ¹æ®ç”¨æˆ·çš„å¥åº·æ¡£æ¡ˆï¼ˆèº«é«˜ã€ä½“é‡ã€ç›®æ ‡ã€å¥åº·çŠ¶å†µï¼‰æä¾›ä¸ªæ€§åŒ–å»ºè®®\n2. é¼“åŠ±ç”¨æˆ·åšæŒè®­ç»ƒï¼Œä½†è¦æ³¨æ„å®‰å…¨\n3. å¦‚æœç”¨æˆ·æœ‰å¿ƒè¡€ç®¡æˆ–ç³–å°¿ç—…é£é™©ï¼Œè¦ç‰¹åˆ«æé†’è¿åŠ¨å¼ºåº¦æ§åˆ¶\n4. å›ç­”è¦ç®€æ´ã€ä¸“ä¸šã€æœ‰æ¸©åº¦\n5. é¿å…è¿‡åº¦åŒ»ç–—åŒ–çš„å»ºè®®ï¼Œé‡åˆ°ä¸¥é‡å¥åº·é—®é¢˜è¦æé†’å°±åŒ»',
  'ENCOURAGING',
  TRUE,
  1,
  '{"temperature": 0.7, "max_tokens": 1024}'
);
```

#### äº§å‡º

âœ… æœ¬åœ° MySQL æ•°æ®åº“ `fitpulse_dev` åˆ›å»ºæˆåŠŸ  
âœ… 9 å¼ æ ¸å¿ƒè¡¨åˆ›å»ºå®Œæˆ  
âœ… åŸºç¡€æ•°æ®æ’å…¥æˆåŠŸï¼ˆ1 ä¸ª LLM æä¾›å•†ã€1 ä¸ªæ¨¡å‹ã€1 ä¸ªæ•™ç»ƒï¼‰

#### âš ï¸ æ³¨æ„äº‹é¡¹

- **API Key ç®¡ç†**ï¼š`llm_provider` è¡¨çš„ `api_key` å­—æ®µç•™ç©ºï¼Œå®é™…è¿è¡Œæ—¶ä»ç¯å¢ƒå˜é‡è¯»å–
- **å¤–é”®é¡ºåº**ï¼šå¿…é¡»å…ˆæ’å…¥ `llm_provider` â†’ `llm_model` â†’ `agent` â†’ `agent_config`
- **å­—ç¬¦é›†**ï¼šç¡®ä¿æ‰€æœ‰è¡¨éƒ½æ˜¯ `utf8mb4_unicode_ci`ï¼Œæ”¯æŒ emoji å’Œä¸­æ–‡
- **å¤‡ä»½**ï¼šå»ºè¡¨å®Œæˆåç«‹å³å¯¼å‡ºä¸€ä»½ç©ºè¡¨ç»“æ„å¤‡ä»½

```bash
mysqldump -u root -p fitpulse_dev --no-data > schema_backup.sql
```

---

### 3.4 å¼€å‘å·¥å…·æ¸…å•

âœ… éœ€æ±‚æ˜ç¡®äº† â†’ ä¸ä¼šè¾¹åšè¾¹æ”¹  
âœ… æ•°æ®åº“è®¾è®¡å¥½äº† â†’ ç›´æ¥æ‰§è¡Œ SQL å»ºè¡¨  
âœ… API è®¾è®¡å¥½äº† â†’ å‰åç«¯å„è‡ªå¯¹æ¥å£å¼€å‘  
âœ… ç¯å¢ƒé…ç½®å¥½äº† â†’ çŸ¥é“æ€ä¹ˆéƒ¨ç½²

### 2.2 æŠ€æœ¯é€‰å‹ï¼ˆå·²ç¡®å®šï¼‰

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| **åç«¯** | Spring Boot | 3.2.x |
| **å‰ç«¯** | Vue 3 + Vite | Vue 3.4+ |
| **æ•°æ®åº“** | MySQL | 8.0+ |
| **ç¼“å­˜** | Redis | 7.x |
| **å­˜å‚¨** | MinIO | æœ¬åœ°å¼€å‘ |
| **AI** | OpenAI GPT-4o | API è°ƒç”¨ |

### 2.3 ä½ ç°åœ¨çš„ä½ç½®

```
ä½ åœ¨è¿™é‡Œ ğŸ‘‡

â”œâ”€â”€ âœ… è®¾è®¡é˜¶æ®µï¼ˆå·²å®Œæˆï¼‰
â”‚   â”œâ”€â”€ éœ€æ±‚åˆ†æ
â”‚   â”œâ”€â”€ æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ API è®¾è®¡
â”‚   â””â”€â”€ ç¯å¢ƒè§„åˆ’
â”‚
â”œâ”€â”€ â³ å¼€å‘é˜¶æ®µï¼ˆå³å°†å¼€å§‹ï¼‰â† æ¥ä¸‹æ¥è¦åšçš„
â”‚   â”œâ”€â”€ é˜¶æ®µ 1ï¼šåŸºç¡€å·¥ç¨‹æ­å»º
â”‚   â”œâ”€â”€ é˜¶æ®µ 2ï¼šç”¨æˆ·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ é˜¶æ®µ 3ï¼šæ™ºèƒ½ä½“èŠå¤©
â”‚   â”œâ”€â”€ é˜¶æ®µ 4ï¼šè®¡åˆ’ç”Ÿæˆ
â”‚   â””â”€â”€ é˜¶æ®µ 5ï¼šæµ‹è¯•ä¼˜åŒ–
â”‚
â””â”€â”€ â³ éƒ¨ç½²é˜¶æ®µï¼ˆæœªæ¥ï¼‰
```

---

## 3. é˜¶æ®µ 1ï¼šåŸºç¡€å·¥ç¨‹æ­å»º

**ç›®æ ‡**ï¼šæ­å»ºå‰åç«¯éª¨æ¶ + æ•°æ®åº“åˆå§‹åŒ– + èƒ½è·‘é€šä¸€ä¸ªæµ‹è¯•æ¥å£

**é¢„è®¡æ—¶é—´**ï¼š3-5 å¤©

**å®Œæˆæ ‡å¿—**ï¼šâœ… å‰ç«¯èƒ½è°ƒé€šåç«¯ `/ping` æ¥å£ï¼Œè¿”å› "pong"

### 2.1 å›¢é˜Ÿé…ç½®

**æœ€å°å›¢é˜Ÿé…ç½®**ï¼ˆ4-6 äººï¼‰ï¼š

| è§’è‰² | äººæ•° | èŒè´£ |
|------|------|------|
| **å…¨æ ˆå¼€å‘** | 2-3 äºº | å‰åç«¯å¼€å‘ã€API å¯¹æ¥ |
| **AI å·¥ç¨‹å¸ˆ** | 1 äºº | LLM é›†æˆã€é£Ÿç‰©è¯†åˆ«æ¨¡å‹è°ƒä¼˜ |
| **UI/UX è®¾è®¡å¸ˆ** | 1 äºº | ç•Œé¢è®¾è®¡ã€äº¤äº’ä¼˜åŒ– |
| **æµ‹è¯•å·¥ç¨‹å¸ˆ** | 1 äºº | æµ‹è¯•ç”¨ä¾‹ã€è´¨é‡ä¿è¯ |

### 2.2 å¼€å‘å·¥å…·æ¸…å•

#### å¿…å¤‡å·¥å…·

```bash
# å¼€å‘ç¯å¢ƒ
- JDK 17+ï¼ˆæ¨è OpenJDKï¼‰
- Node.js 20 LTS
- MySQL 8.0+
- Redis 7.x
- Git
- Docker Desktop

# IDE
- IntelliJ IDEAï¼ˆåç«¯ï¼‰
- VS Codeï¼ˆå‰ç«¯ï¼‰

# API æµ‹è¯•
- Postman / Apifox

# æ•°æ®åº“ç®¡ç†
- DBeaver / MySQL Workbench

# ç‰ˆæœ¬æ§åˆ¶
- GitHub / GitLab
```

#### åœ¨çº¿æœåŠ¡

```
- OpenAI API è´¦å·ï¼ˆGPT-4oï¼‰
- é˜¿é‡Œäº‘ / AWSï¼ˆå¯é€‰ï¼Œå¯¹è±¡å­˜å‚¨ï¼‰
- åŸŸåï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- SSL è¯ä¹¦ï¼ˆLet's Encryptï¼‰
```

### 2.3 æ–‡æ¡£å‡†å¤‡

âœ… **å·²å®Œæˆæ–‡æ¡£**ï¼š
- [x] ç”¨æˆ·éœ€æ±‚è¯´æ˜ä¹¦
- [x] æ•°æ®åº“è®¾è®¡æ–‡æ¡£ V1.1.0
- [x] API è®¾è®¡æ–‡æ¡£
- [x] ç¯å¢ƒé…ç½®éœ€æ±‚æ–‡æ¡£

ğŸ“ **å¾…è¡¥å……æ–‡æ¡£**ï¼š
- [ ] å‰ç«¯ç»„ä»¶è®¾è®¡è§„èŒƒ
- [ ] ä»£ç è§„èŒƒä¸ Code Review æ ‡å‡†
- [ ] æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£

---

## 3. é¡¹ç›®åˆå§‹åŒ–

### 3.1 åˆ›å»º Git ä»“åº“

```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir Health_agent_platform
cd Health_agent_platform

# 2. åˆå§‹åŒ– Git
git init
git remote add origin https://github.com/your-org/fitpulse.git

# 3. åˆ›å»ºåˆ†æ”¯ç­–ç•¥
git checkout -b develop
git checkout -b feature/init-project
```

**åˆ†æ”¯ç®¡ç†ç­–ç•¥**ï¼ˆGit Flowï¼‰ï¼š

```
mainï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
  â””â”€â”€ developï¼ˆå¼€å‘ç¯å¢ƒï¼‰
       â”œâ”€â”€ feature/user-authï¼ˆåŠŸèƒ½åˆ†æ”¯ï¼‰
       â”œâ”€â”€ feature/diet-recognitionï¼ˆåŠŸèƒ½åˆ†æ”¯ï¼‰
       â””â”€â”€ release/v1.0.0ï¼ˆå‘å¸ƒåˆ†æ”¯ï¼‰
```

---

### 3.2 åç«¯é¡¹ç›®åˆå§‹åŒ–

#### Step 1: ä½¿ç”¨ Spring Initializr åˆ›å»ºé¡¹ç›®

è®¿é—® https://start.spring.io/ æˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š

```bash
# ä½¿ç”¨ Spring CLIï¼ˆæ¨èï¼‰
spring init \
  --dependencies=web,data-jpa,mysql,data-redis,validation,actuator,lombok \
  --java-version=17 \
  --build=maven \
  --groupId=com.fitpulse \
  --artifactId=backend \
  --name=FitPulse-Backend \
  --description="FitPulse Health Management System" \
  --package-name=com.fitpulse.backend \
  backend
```

#### Step 2: å®Œå–„ pom.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.2.0</version>
        <relativePath/>
    </parent>
    
    <groupId>com.fitpulse</groupId>
    <artifactId>backend</artifactId>
    <version>1.0.0-SNAPSHOT</version>
    <name>FitPulse-Backend</name>
    <description>FitPulse Health Management System Backend</description>
    
    <properties>
        <java.version>17</java.version>
        <jwt.version>0.12.3</jwt.version>
        <minio.version>8.5.7</minio.version>
    </properties>
    
    <dependencies>
        <!-- Spring Boot Starters -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-redis</artifactId>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-validation</artifactId>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-actuator</artifactId>
        </dependency>
        
        <!-- Security -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-security</artifactId>
        </dependency>
        
        <!-- JWT -->
        <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt-api</artifactId>
            <version>${jwt.version}</version>
        </dependency>
        <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt-impl</artifactId>
            <version>${jwt.version}</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt-jackson</artifactId>
            <version>${jwt.version}</version>
            <scope>runtime</scope>
        </dependency>
        
        <!-- Database -->
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        
        <!-- MinIO -->
        <dependency>
            <groupId>io.minio</groupId>
            <artifactId>minio</artifactId>
            <version>${minio.version}</version>
        </dependency>
        
        <!-- OpenAI API -->
        <dependency>
            <groupId>com.theokanning.openai-gpt3-java</groupId>
            <artifactId>service</artifactId>
            <version>0.18.2</version>
        </dependency>
        
        <!-- Lombok -->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
        
        <!-- Test -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>
```

#### Step 3: åˆ›å»ºé¡¹ç›®ç»“æ„

```bash
cd backend/src/main/java/com/fitpulse/backend

mkdir -p config
mkdir -p controller
mkdir -p service
mkdir -p repository
mkdir -p entity
mkdir -p dto
mkdir -p exception
mkdir -p util
mkdir -p security
```

**æ ‡å‡†ç›®å½•ç»“æ„**ï¼š

```
backend/src/main/java/com/fitpulse/backend/
â”œâ”€â”€ config/              # é…ç½®ç±»
â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”œâ”€â”€ RedisConfig.java
â”‚   â””â”€â”€ MinioConfig.java
â”œâ”€â”€ controller/          # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”œâ”€â”€ UserController.java
â”‚   â””â”€â”€ HealthController.java
â”œâ”€â”€ service/             # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ UserService.java
â”‚   â”œâ”€â”€ AuthService.java
â”‚   â””â”€â”€ HealthProfileService.java
â”œâ”€â”€ repository/          # æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â””â”€â”€ HealthProfileRepository.java
â”œâ”€â”€ entity/              # å®ä½“ç±»
â”‚   â”œâ”€â”€ User.java
â”‚   â”œâ”€â”€ HealthProfile.java
â”‚   â””â”€â”€ WeightLog.java
â”œâ”€â”€ dto/                 # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”œâ”€â”€ LoginRequest.java
â”‚   â”‚   â””â”€â”€ RegisterRequest.java
â”‚   â””â”€â”€ response/
â”‚       â”œâ”€â”€ ApiResponse.java
â”‚       â””â”€â”€ UserResponse.java
â”œâ”€â”€ exception/           # å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚   â””â”€â”€ BusinessException.java
â”œâ”€â”€ security/            # å®‰å…¨ç›¸å…³
â”‚   â”œâ”€â”€ JwtTokenProvider.java
â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java
â”‚   â””â”€â”€ UserDetailsServiceImpl.java
â””â”€â”€ util/                # å·¥å…·ç±»
    â”œâ”€â”€ DateUtil.java
    â””â”€â”€ ValidationUtil.java
```

---

### 3.3 å‰ç«¯é¡¹ç›®åˆå§‹åŒ–

#### Step 1: ä½¿ç”¨ Vite åˆ›å»º Vue 3 é¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®
npm create vite@latest frontend -- --template vue

cd frontend

# å®‰è£…ä¾èµ–
npm install

# å®‰è£…æ ¸å¿ƒåº“
npm install vue-router@4 pinia axios
npm install element-plus
npm install @element-plus/icons-vue

# å®‰è£…å¼€å‘ä¾èµ–
npm install -D sass
npm install -D eslint prettier
```

#### Step 2: åˆ›å»ºå‰ç«¯ç›®å½•ç»“æ„

```bash
cd src

mkdir -p api
mkdir -p assets/images
mkdir -p components/common
mkdir -p components/health
mkdir -p components/agent
mkdir -p layouts
mkdir -p router
mkdir -p stores
mkdir -p utils
mkdir -p views/auth
mkdir -p views/dashboard
mkdir -p views/health
mkdir -p views/agent
```

**æ ‡å‡†ç›®å½•ç»“æ„**ï¼š

```
frontend/src/
â”œâ”€â”€ api/                 # API æ¥å£
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ user.js
â”‚   â”œâ”€â”€ health.js
â”‚   â””â”€â”€ agent.js
â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ variables.scss
â”‚   â”‚   â””â”€â”€ global.scss
â”‚   â””â”€â”€ fonts/
â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ Header.vue
â”‚   â”‚   â”œâ”€â”€ Sidebar.vue
â”‚   â”‚   â””â”€â”€ Loading.vue
â”‚   â”œâ”€â”€ health/
â”‚   â”‚   â”œâ”€â”€ WeightChart.vue
â”‚   â”‚   â”œâ”€â”€ DietUpload.vue
â”‚   â”‚   â””â”€â”€ WorkoutCard.vue
â”‚   â””â”€â”€ agent/
â”‚       â”œâ”€â”€ ChatWindow.vue
â”‚       â””â”€â”€ AgentCard.vue
â”œâ”€â”€ layouts/             # å¸ƒå±€
â”‚   â”œâ”€â”€ DefaultLayout.vue
â”‚   â””â”€â”€ AuthLayout.vue
â”œâ”€â”€ router/              # è·¯ç”±
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ user.js
â”‚   â”œâ”€â”€ health.js
â”‚   â””â”€â”€ agent.js
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ request.js
â”‚   â”œâ”€â”€ auth.js
â”‚   â””â”€â”€ validators.js
â”œâ”€â”€ views/               # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â””â”€â”€ Register.vue
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ Index.vue
â”‚   â”œâ”€â”€ health/
â”‚   â”‚   â”œâ”€â”€ Profile.vue
â”‚   â”‚   â”œâ”€â”€ Weight.vue
â”‚   â”‚   â”œâ”€â”€ Workout.vue
â”‚   â”‚   â””â”€â”€ Diet.vue
â”‚   â””â”€â”€ agent/
â”‚       â”œâ”€â”€ List.vue
â”‚       â””â”€â”€ Chat.vue
â”œâ”€â”€ App.vue
â””â”€â”€ main.js
```

---

### 3.4 æ•°æ®åº“åˆå§‹åŒ–

#### Step 1: åˆ›å»ºæ•°æ®åº“

```sql
-- åˆ›å»ºå¼€å‘æ•°æ®åº“
CREATE DATABASE IF NOT EXISTS fitpulse_dev 
  DEFAULT CHARACTER SET utf8mb4 
  COLLATE utf8mb4_unicode_ci;

USE fitpulse_dev;
```

#### Step 2: æ‰§è¡Œæ•°æ®åº“è„šæœ¬

æ ¹æ®ã€Šæ•°æ®åº“è®¾è®¡æ–‡æ¡£ V1.1.0ã€‹åˆ›å»ºè¡¨ç»“æ„ï¼Œé¦–å…ˆåˆ›å»ºæ ¸å¿ƒè¡¨ï¼š

```sql
-- 1. ç”¨æˆ·è¡¨
CREATE TABLE `user` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `email` VARCHAR(255) NOT NULL UNIQUE COMMENT 'é‚®ç®±',
  `password` VARCHAR(255) NOT NULL COMMENT 'å¯†ç ï¼ˆBCryptï¼‰',
  `nickname` VARCHAR(100) COMMENT 'æ˜µç§°',
  `avatar_url` VARCHAR(500) COMMENT 'å¤´åƒURL',
  `role` VARCHAR(50) DEFAULT 'USER' COMMENT 'è§’è‰²ï¼šUSER/ADMIN',
  `status` VARCHAR(50) DEFAULT 'ACTIVE' COMMENT 'çŠ¶æ€ï¼šACTIVE/DISABLED',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_email (`email`),
  INDEX idx_status (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·è¡¨';

-- 2. å¥åº·æ¡£æ¡ˆè¡¨
CREATE TABLE `health_profile` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL UNIQUE COMMENT 'ç”¨æˆ·ID',
  `height` DECIMAL(5,2) COMMENT 'èº«é«˜(cm)',
  `current_weight` DECIMAL(5,2) COMMENT 'å½“å‰ä½“é‡(kg)',
  `target_weight` DECIMAL(5,2) COMMENT 'ç›®æ ‡ä½“é‡(kg)',
  `bmi` DECIMAL(4,2) COMMENT 'BMI',
  `fitness_level` VARCHAR(50) COMMENT 'å¥èº«æ°´å¹³ï¼šBEGINNER/INTERMEDIATE/ADVANCED',
  `weekly_workout_days` INT COMMENT 'æ¯å‘¨è®­ç»ƒå¤©æ•°',
  `preferred_time` VARCHAR(50) COMMENT 'åå¥½æ—¶é—´ï¼šMORNING/AFTERNOON/EVENING',
  `medical_conditions` TEXT COMMENT 'å·²ç¡®è¯Šç–¾ç—…',
  `family_history` TEXT COMMENT 'å®¶æ—ç—…å²',
  `exercise_restrictions` TEXT COMMENT 'è¿åŠ¨é™åˆ¶',
  `has_cardiovascular_risk` BOOLEAN DEFAULT FALSE COMMENT 'å¿ƒè¡€ç®¡é£é™©',
  `has_diabetes_risk` BOOLEAN DEFAULT FALSE COMMENT 'ç³–å°¿ç—…é£é™©',
  `health_goal` TEXT COMMENT 'å¥åº·ç›®æ ‡',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON DELETE CASCADE,
  INDEX idx_user_id (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å¥åº·æ¡£æ¡ˆè¡¨';

-- 3. ä½“é‡è®°å½•è¡¨
CREATE TABLE `weight_log` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT 'ç”¨æˆ·ID',
  `record_date` DATE NOT NULL COMMENT 'è®°å½•æ—¥æœŸ',
  `weight` DECIMAL(5,2) NOT NULL COMMENT 'ä½“é‡(kg)',
  `bmi` DECIMAL(4,2) COMMENT 'BMI',
  `body_fat_percentage` DECIMAL(4,2) COMMENT 'ä½“è„‚ç‡(%)',
  `notes` TEXT COMMENT 'å¤‡æ³¨',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON DELETE CASCADE,
  INDEX idx_user_date (`user_id`, `record_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ä½“é‡è®°å½•è¡¨';
```

---

## 4. MVP å¼€å‘æµç¨‹ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰

**ç›®æ ‡**ï¼šå®ŒæˆåŸºç¡€åŠŸèƒ½ï¼Œå®ç°ç”¨æˆ·æ³¨å†Œç™»å½•å’Œå¥åº·æ¡£æ¡ˆç®¡ç†

**æ—¶é—´**ï¼šWeek 1-4

### 4.1 ç”¨æˆ·è®¤è¯æ¨¡å—ï¼ˆWeek 1-2ï¼‰

#### ä»»åŠ¡æ¸…å•

- [x] åç«¯ï¼šç”¨æˆ·å®ä½“ç±»ä¸æ•°æ®åº“æ˜ å°„
- [x] åç«¯ï¼šJWT å·¥å…·ç±»å¼€å‘
- [x] åç«¯ï¼šSpring Security é…ç½®
- [x] åç«¯ï¼šæ³¨å†Œã€ç™»å½•ã€è·å–å½“å‰ç”¨æˆ· API
- [x] å‰ç«¯ï¼šç™»å½•é¡µé¢ UI
- [x] å‰ç«¯ï¼šæ³¨å†Œé¡µé¢ UI
- [x] å‰ç«¯ï¼šAxios æ‹¦æˆªå™¨é…ç½®
- [x] å‰ç«¯ï¼šç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
- [x] æµ‹è¯•ï¼šAPI æµ‹è¯•ï¼ˆPostmanï¼‰
- [x] æµ‹è¯•ï¼šå‰åç«¯è”è°ƒ

---

#### åç«¯å®ç°ç¤ºä¾‹

**1. User å®ä½“ç±»**

```java
// backend/src/main/java/com/fitpulse/backend/entity/User.java
package com.fitpulse.backend.entity;

import jakarta.persistence.*;
import lombok.Data;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

import java.time.LocalDateTime;
import java.util.Collection;
import java.util.Collections;

@Data
@Entity
@Table(name = "user")
public class User implements UserDetails {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false, unique = true)
    private String email;
    
    @Column(nullable = false)
    private String password;
    
    private String nickname;
    
    private String avatarUrl;
    
    @Column(length = 50)
    private String role = "USER";
    
    @Column(length = 50)
    private String status = "ACTIVE";
    
    @Column(name = "created_at", updatable = false)
    private LocalDateTime createdAt = LocalDateTime.now();
    
    @Column(name = "updated_at")
    private LocalDateTime updatedAt = LocalDateTime.now();
    
    // UserDetails æ¥å£å®ç°
    @Override
    public Collection<? extends GrantedAuthority> getAuthorities() {
        return Collections.singletonList(new SimpleGrantedAuthority("ROLE_" + role));
    }
    
    @Override
    public String getUsername() {
        return email;
    }
    
    @Override
    public boolean isAccountNonExpired() {
        return true;
    }
    
    @Override
    public boolean isAccountNonLocked() {
        return "ACTIVE".equals(status);
    }
    
    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }
    
    @Override
    public boolean isEnabled() {
        return "ACTIVE".equals(status);
    }
}
```

**2. JWT å·¥å…·ç±»**

```java
// backend/src/main/java/com/fitpulse/backend/security/JwtTokenProvider.java
package com.fitpulse.backend.security;

import io.jsonwebtoken.*;
import io.jsonwebtoken.security.Keys;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

import javax.crypto.SecretKey;
import java.util.Date;

@Component
public class JwtTokenProvider {
    
    @Value("${jwt.secret}")
    private String jwtSecret;
    
    @Value("${jwt.expiration}")
    private long jwtExpiration;
    
    private SecretKey getSigningKey() {
        return Keys.hmacShaKeyFor(jwtSecret.getBytes());
    }
    
    public String generateToken(String email, Long userId) {
        Date now = new Date();
        Date expiryDate = new Date(now.getTime() + jwtExpiration * 1000);
        
        return Jwts.builder()
                .setSubject(email)
                .claim("userId", userId)
                .setIssuedAt(now)
                .setExpiration(expiryDate)
                .signWith(getSigningKey(), SignatureAlgorithm.HS256)
                .compact();
    }
    
    public String getEmailFromToken(String token) {
        Claims claims = Jwts.parserBuilder()
                .setSigningKey(getSigningKey())
                .build()
                .parseClaimsJws(token)
                .getBody();
        return claims.getSubject();
    }
    
    public boolean validateToken(String token) {
        try {
            Jwts.parserBuilder()
                    .setSigningKey(getSigningKey())
                    .build()
                    .parseClaimsJws(token);
            return true;
        } catch (JwtException | IllegalArgumentException e) {
            return false;
        }
    }
}
```

**3. AuthController**

```java
// backend/src/main/java/com/fitpulse/backend/controller/AuthController.java
package com.fitpulse.backend.controller;

import com.fitpulse.backend.dto.request.LoginRequest;
import com.fitpulse.backend.dto.request.RegisterRequest;
import com.fitpulse.backend.dto.response.ApiResponse;
import com.fitpulse.backend.dto.response.LoginResponse;
import com.fitpulse.backend.service.AuthService;
import jakarta.validation.Valid;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/auth")
@RequiredArgsConstructor
public class AuthController {
    
    private final AuthService authService;
    
    @PostMapping("/register")
    public ApiResponse<?> register(@Valid @RequestBody RegisterRequest request) {
        var user = authService.register(request);
        return ApiResponse.success(user);
    }
    
    @PostMapping("/login")
    public ApiResponse<LoginResponse> login(@Valid @RequestBody LoginRequest request) {
        var loginResponse = authService.login(request);
        return ApiResponse.success(loginResponse);
    }
    
    @GetMapping("/me")
    public ApiResponse<?> getCurrentUser() {
        var user = authService.getCurrentUser();
        return ApiResponse.success(user);
    }
}
```

---

#### å‰ç«¯å®ç°ç¤ºä¾‹

**1. API å°è£…**

```javascript
// frontend/src/api/auth.js
import request from '@/utils/request'

export function register(data) {
  return request({
    url: '/auth/register',
    method: 'post',
    data
  })
}

export function login(data) {
  return request({
    url: '/auth/login',
    method: 'post',
    data
  })
}

export function getCurrentUser() {
  return request({
    url: '/auth/me',
    method: 'get'
  })
}
```

**2. Axios é…ç½®**

```javascript
// frontend/src/utils/request.js
import axios from 'axios'
import { ElMessage } from 'element-plus'
import { useUserStore } from '@/stores/user'

const request = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  timeout: 30000
})

// è¯·æ±‚æ‹¦æˆªå™¨
request.interceptors.request.use(
  config => {
    const userStore = useUserStore()
    if (userStore.token) {
      config.headers['Authorization'] = `Bearer ${userStore.token}`
    }
    return config
  },
  error => {
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
request.interceptors.response.use(
  response => {
    const res = response.data
    if (res.code !== 0) {
      ElMessage.error(res.message || 'Error')
      return Promise.reject(new Error(res.message || 'Error'))
    }
    return res
  },
  error => {
    if (error.response?.status === 4010) {
      const userStore = useUserStore()
      userStore.logout()
      window.location.href = '/login'
    }
    ElMessage.error(error.message || 'è¯·æ±‚å¤±è´¥')
    return Promise.reject(error)
  }
)

export default request
```

**3. ç™»å½•é¡µé¢**

```vue
<!-- frontend/src/views/auth/Login.vue -->
<template>
  <div class="login-container">
    <el-card class="login-card">
      <h2>FitPulse ç™»å½•</h2>
      <el-form ref="loginFormRef" :model="loginForm" :rules="rules">
        <el-form-item prop="email">
          <el-input
            v-model="loginForm.email"
            placeholder="é‚®ç®±"
            prefix-icon="User"
          />
        </el-form-item>
        <el-form-item prop="password">
          <el-input
            v-model="loginForm.password"
            type="password"
            placeholder="å¯†ç "
            prefix-icon="Lock"
            show-password
          />
        </el-form-item>
        <el-form-item>
          <el-button
            type="primary"
            :loading="loading"
            @click="handleLogin"
            style="width: 100%"
          >
            ç™»å½•
          </el-button>
        </el-form-item>
        <div class="footer">
          è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ<router-link to="/register">ç«‹å³æ³¨å†Œ</router-link>
        </div>
      </el-form>
    </el-card>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'
import { useRouter } from 'vue-router'
import { ElMessage } from 'element-plus'
import { useUserStore } from '@/stores/user'

const router = useRouter()
const userStore = useUserStore()
const loading = ref(false)
const loginFormRef = ref()

const loginForm = reactive({
  email: '',
  password: ''
})

const rules = {
  email: [
    { required: true, message: 'è¯·è¾“å…¥é‚®ç®±', trigger: 'blur' },
    { type: 'email', message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€', trigger: 'blur' }
  ],
  password: [
    { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur' },
    { min: 6, message: 'å¯†ç é•¿åº¦è‡³å°‘6ä½', trigger: 'blur' }
  ]
}

const handleLogin = async () => {
  try {
    await loginFormRef.value.validate()
    loading.value = true
    
    await userStore.login(loginForm)
    ElMessage.success('ç™»å½•æˆåŠŸ')
    router.push('/dashboard')
  } catch (error) {
    console.error('ç™»å½•å¤±è´¥:', error)
  } finally {
    loading.value = false
  }
}
</script>

<style scoped>
.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.login-card {
  width: 400px;
  padding: 20px;
}

h2 {
  text-align: center;
  margin-bottom: 30px;
  color: #333;
}

.footer {
  text-align: center;
  margin-top: 20px;
  color: #666;
}
</style>
```

---

### 4.2 å¥åº·æ¡£æ¡ˆæ¨¡å—ï¼ˆWeek 3-4ï¼‰

#### åç«¯å®ç°

**HealthProfile å®ä½“ç±»**

```java
// backend/src/main/java/com/fitpulse/backend/entity/HealthProfile.java
package com.fitpulse.backend.entity;

import jakarta.persistence.*;
import lombok.Data;

import java.math.BigDecimal;
import java.time.LocalDateTime;

@Data
@Entity
@Table(name = "health_profile")
public class HealthProfile {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(name = "user_id", nullable = false, unique = true)
    private Long userId;
    
    private BigDecimal height;
    
    @Column(name = "current_weight")
    private BigDecimal currentWeight;
    
    @Column(name = "target_weight")
    private BigDecimal targetWeight;
    
    private BigDecimal bmi;
    
    @Column(name = "fitness_level", length = 50)
    private String fitnessLevel;
    
    @Column(name = "weekly_workout_days")
    private Integer weeklyWorkoutDays;
    
    @Column(name = "preferred_time", length = 50)
    private String preferredTime;
    
    @Column(name = "medical_conditions", columnDefinition = "TEXT")
    private String medicalConditions;
    
    @Column(name = "family_history", columnDefinition = "TEXT")
    private String familyHistory;
    
    @Column(name = "exercise_restrictions", columnDefinition = "TEXT")
    private String exerciseRestrictions;
    
    @Column(name = "has_cardiovascular_risk")
    private Boolean hasCardiovascularRisk = false;
    
    @Column(name = "has_diabetes_risk")
    private Boolean hasDiabetesRisk = false;
    
    @Column(name = "health_goal", columnDefinition = "TEXT")
    private String healthGoal;
    
    @Column(name = "created_at", updatable = false)
    private LocalDateTime createdAt = LocalDateTime.now();
    
    @Column(name = "updated_at")
    private LocalDateTime updatedAt = LocalDateTime.now();
    
    @PreUpdate
    public void preUpdate() {
        this.updatedAt = LocalDateTime.now();
        // è‡ªåŠ¨è®¡ç®— BMI
        if (height != null && currentWeight != null) {
            BigDecimal heightInMeters = height.divide(BigDecimal.valueOf(100));
            this.bmi = currentWeight.divide(
                heightInMeters.multiply(heightInMeters),
                2,
                BigDecimal.ROUND_HALF_UP
            );
        }
    }
}
```

---

### 4.3 å¼€å‘è¿›åº¦è¿½è¸ª

#### Week 1-2 æ£€æŸ¥æ¸…å•

```
âœ… åç«¯é¡¹ç›®åˆå§‹åŒ–å®Œæˆ
âœ… å‰ç«¯é¡¹ç›®åˆå§‹åŒ–å®Œæˆ
âœ… æ•°æ®åº“åˆ›å»ºå¹¶åˆå§‹åŒ–æ ¸å¿ƒè¡¨
âœ… ç”¨æˆ·è®¤è¯ API å¼€å‘å®Œæˆ
âœ… JWT è®¤è¯æœºåˆ¶å®ç°
âœ… ç™»å½•/æ³¨å†Œé¡µé¢å¼€å‘å®Œæˆ
âœ… API è”è°ƒæµ‹è¯•é€šè¿‡
```

#### Week 3-4 æ£€æŸ¥æ¸…å•

```
âœ… å¥åº·æ¡£æ¡ˆ CRUD API å¼€å‘
âœ… ä½“é‡è®°å½• API å¼€å‘
âœ… å¥åº·æ¡£æ¡ˆé¡µé¢ UI
âœ… ä½“é‡è®°å½•é¡µé¢ï¼ˆå«å›¾è¡¨ï¼‰
âœ… æ•°æ®éªŒè¯ä¸é”™è¯¯å¤„ç†
âœ… MVP åŠŸèƒ½æµ‹è¯•é€šè¿‡
```

---

## 5. æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰

**ç›®æ ‡**ï¼šå®ç° AI é¥®é£Ÿæ‹ç…§è¯†åˆ«å’Œæ™ºèƒ½ä½“å¯¹è¯åŠŸèƒ½

**æ—¶é—´**ï¼šWeek 5-6

### 5.1 é¥®é£Ÿæ‹ç…§è¯†åˆ«æ¨¡å—

è¿™æ˜¯é¡¹ç›®çš„**æ ¸å¿ƒåˆ›æ–°åŠŸèƒ½**ï¼Œé‡ç‚¹å¼€å‘ã€‚

#### å¼€å‘æ­¥éª¤

**Step 1: é…ç½® MinIO å’Œ OpenAI**

```yaml
# application-dev.yml
minio:
  endpoint: http://localhost:9000
  access-key: minioadmin
  secret-key: minioadmin
  bucket-name: fitpulse-dev

openai:
  api-key: ${OPENAI_API_KEY}
  base-url: https://api.openai.com/v1
  model: gpt-4o
  max-tokens: 2048
  temperature: 0.7
```

**Step 2: å¼€å‘å›¾ç‰‡ä¸Šä¼ æœåŠ¡**

```java
// backend/src/main/java/com/fitpulse/backend/service/StorageService.java
package com.fitpulse.backend.service;

import io.minio.*;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import org.springframework.web.multipart.MultipartFile;

import java.io.InputStream;
import java.util.UUID;

@Service
@RequiredArgsConstructor
public class StorageService {
    
    private final MinioClient minioClient;
    
    public String uploadImage(MultipartFile file, String folder) throws Exception {
        String filename = UUID.randomUUID().toString() + 
            getFileExtension(file.getOriginalFilename());
        String objectName = folder + "/" + filename;
        
        minioClient.putObject(
            PutObjectArgs.builder()
                .bucket("fitpulse-dev")
                .object(objectName)
                .stream(file.getInputStream(), file.getSize(), -1)
                .contentType(file.getContentType())
                .build()
        );
        
        return getFileUrl(objectName);
    }
    
    private String getFileUrl(String objectName) {
        return "http://localhost:9000/fitpulse-dev/" + objectName;
    }
    
    private String getFileExtension(String filename) {
        return filename.substring(filename.lastIndexOf("."));
    }
}
```

**Step 3: å¼€å‘ AI é£Ÿç‰©è¯†åˆ«æœåŠ¡**

```java
// backend/src/main/java/com/fitpulse/backend/service/FoodRecognitionService.java
package com.fitpulse.backend.service;

import com.theokanning.openai.service.OpenAiService;
import com.theokanning.openai.completion.chat.ChatCompletionRequest;
import com.theokanning.openai.completion.chat.ChatMessage;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
@RequiredArgsConstructor
public class FoodRecognitionService {
    
    private final OpenAiService openAiService;
    
    public String recognizeFood(String imageUrl) {
        String prompt = """
            è¯·åˆ†æè¿™å¼ é¤é£Ÿå›¾ç‰‡,è¯†åˆ«å‡ºæ‰€æœ‰é£Ÿç‰©,å¹¶æŒ‰ä»¥ä¸‹JSONæ ¼å¼è¿”å›:
            {
              "foods": [
                {
                  "name": "é£Ÿç‰©åç§°",
                  "weight": ä¼°ç®—é‡é‡(å…‹),
                  "calories": çƒ­é‡(åƒå¡),
                  "protein": è›‹ç™½è´¨(å…‹),
                  "carbs": ç¢³æ°´åŒ–åˆç‰©(å…‹),
                  "fat": è„‚è‚ª(å…‹),
                  "riskTags": ["HIGH_FAT", "HIGH_SODIUM", "HIGH_SUGAR", "PROCESSED"]
                }
              ]
            }
            """;
        
        var messages = List.of(
            new ChatMessage("system", "ä½ æ˜¯ä¸€åä¸“ä¸šçš„è¥å…»å¸ˆ,æ“…é•¿é£Ÿç‰©è¯†åˆ«å’Œè¥å…»åˆ†æã€‚"),
            new ChatMessage("user", prompt + "\nå›¾ç‰‡: " + imageUrl)
        );
        
        var request = ChatCompletionRequest.builder()
            .model("gpt-4o")
            .messages(messages)
            .maxTokens(2048)
            .build();
        
        var response = openAiService.createChatCompletion(request);
        return response.getChoices().get(0).getMessage().getContent();
    }
}
```

---

### 5.2 æ™ºèƒ½ä½“å¯¹è¯æ¨¡å—

#### å¼€å‘æ­¥éª¤

**Step 1: åˆ›å»º Agent å’Œ Conversation å®ä½“**

**Step 2: å¼€å‘å¯¹è¯ API**

**Step 3: å‰ç«¯èŠå¤©ç•Œé¢å¼€å‘**

---

## 6. æµ‹è¯•æµç¨‹

### 6.1 å•å…ƒæµ‹è¯•

```java
// ç¤ºä¾‹ï¼šAuthService å•å…ƒæµ‹è¯•
@SpringBootTest
class AuthServiceTest {
    
    @Autowired
    private AuthService authService;
    
    @Test
    void testRegister() {
        RegisterRequest request = new RegisterRequest();
        request.setEmail("test@example.com");
        request.setPassword("Test123!");
        request.setNickname("æµ‹è¯•ç”¨æˆ·");
        
        var user = authService.register(request);
        assertNotNull(user.getId());
        assertEquals("test@example.com", user.getEmail());
    }
}
```

### 6.2 é›†æˆæµ‹è¯•

ä½¿ç”¨ Postman æˆ– Apifox æµ‹è¯•å®Œæ•´æµç¨‹ã€‚

### 6.3 å‰ç«¯æµ‹è¯•

ä½¿ç”¨ Vitest è¿›è¡Œç»„ä»¶æµ‹è¯•ã€‚

---

## 7. éƒ¨ç½²ä¸Šçº¿

### 7.1 Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker-compose -f docker-compose.prod.yml build

# å¯åŠ¨æœåŠ¡
docker-compose -f docker-compose.prod.yml up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f backend
```

### 7.2 æ•°æ®åº“è¿ç§»

```bash
# å¤‡ä»½å¼€å‘æ•°æ®åº“
mysqldump -u root -p fitpulse_dev > fitpulse_dev_backup.sql

# å¯¼å…¥ç”Ÿäº§æ•°æ®åº“
mysql -u fitpulse_prod -p fitpulse_prod < schema.sql
```

---

## 8. æ€»ç»“

æœ¬æ–‡æ¡£æä¾›äº† FitPulse é¡¹ç›®ä»é›¶å¼€å§‹åˆ° MVP å®ç°çš„å®Œæ•´å¼€å‘æµç¨‹ï¼ŒåŒ…æ‹¬ï¼š

âœ… é¡¹ç›®åˆå§‹åŒ–ï¼ˆåç«¯ + å‰ç«¯ï¼‰  
âœ… ç”¨æˆ·è®¤è¯æ¨¡å—å¼€å‘  
âœ… å¥åº·æ¡£æ¡ˆæ¨¡å—å¼€å‘  
âœ… AI é¥®é£Ÿæ‹ç…§è¯†åˆ«ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰  
âœ… æµ‹è¯•ä¸éƒ¨ç½²æµç¨‹

**ä¸‹ä¸€æ­¥**ï¼š
1. å®Œå–„æ™ºèƒ½ä½“å¯¹è¯åŠŸèƒ½
2. å¼€å‘å¥åº·è®¡åˆ’ä¸å‘¨æŠ¥
3. æ·»åŠ çŸ¥è¯†åº“ RAG åŠŸèƒ½
4. æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§

---

**ç‰ˆæœ¬**: V1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-12-04  
**ç»´æŠ¤å›¢é˜Ÿ**: FitPulse å¼€å‘å›¢é˜Ÿ
